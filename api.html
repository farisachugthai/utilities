
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>API &#8212; pyutil 0.0.1 documentation</title>
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="/home/faris/projects/utilities/docs/_static/custom.css" />
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/language_data.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="numerical" href="numerical.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="api">
<span id="id1"></span><h1><code class="xref py py-mod docutils literal notranslate"><span class="pre">API</span></code><a class="headerlink" href="#api" title="Permalink to this headline">¶</a></h1>
<p>Below is the collected sum of all python modules in this repository.</p>
<div class="contents local topic" id="contents">
<ul class="simple">
<li><a class="reference internal" href="#module-pyutil.backup_nt_and_posix" id="id5"><code class="xref py py-mod docutils literal notranslate"><span class="pre">backup_nt_and_posix</span></code></a><ul>
<li><a class="reference internal" href="#motivation" id="id6">Motivation</a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-pyutil.batch_renamer" id="id7"><code class="xref py py-mod docutils literal notranslate"><span class="pre">batch_renamer</span></code></a></li>
<li><a class="reference internal" href="#module-pyutil.check_IP" id="id8"><code class="xref py py-mod docutils literal notranslate"><span class="pre">check_IP</span></code></a></li>
<li><a class="reference internal" href="#module-pyutil.conda_export" id="id9"><code class="xref py py-mod docutils literal notranslate"><span class="pre">conda_export</span></code></a></li>
<li><a class="reference internal" href="#module-pyutil.dir_cleaner" id="id10"><code class="xref py py-mod docutils literal notranslate"><span class="pre">dir_cleaner</span></code></a></li>
<li><a class="reference internal" href="#module-pyutil.dlink" id="id11"><a class="reference internal" href="#module-dlink" title="dlink: Symlinks a directory of files from another."><code class="xref py py-mod docutils literal notranslate"><span class="pre">dlink</span></code></a></a><ul>
<li><a class="reference internal" href="#synopsis" id="id12">Synopsis</a></li>
<li><a class="reference internal" href="#usage" id="id13">Usage</a></li>
<li><a class="reference internal" href="#inspiration" id="id14">Inspiration</a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-pyutil.dlink2" id="id15"><code class="xref py py-mod docutils literal notranslate"><span class="pre">dlink2</span></code></a></li>
<li><a class="reference internal" href="#module-pyutil.env" id="id16"><code class="xref py py-mod docutils literal notranslate"><span class="pre">env</span></code></a></li>
<li><a class="reference internal" href="#module-pyutil.env_checks" id="id17"><code class="xref py py-mod docutils literal notranslate"><span class="pre">env_checks</span></code></a><ul>
<li><a class="reference internal" href="#matplotlib-env-checks" id="id18">Matplotlib Env Checks</a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-pyutil.find_pics" id="id19"><a class="reference internal" href="#module-find_pics" title="find_pics: Module that finds jpg and jpegs files in the current dir."><code class="xref py py-mod docutils literal notranslate"><span class="pre">find_pics</span></code></a></a></li>
<li><a class="reference internal" href="#module-pyutil.g" id="id20"><code class="xref py py-mod docutils literal notranslate"><span class="pre">g</span></code></a></li>
<li><a class="reference internal" href="#module-pyutil.inspect_module" id="id21"><code class="xref py py-mod docutils literal notranslate"><span class="pre">inspect_module</span></code></a></li>
<li><a class="reference internal" href="#module-pyutil.itersrc" id="id22"><code class="xref py py-mod docutils literal notranslate"><span class="pre">itersrc</span></code></a></li>
<li><a class="reference internal" href="#module-pyutil.json_sorter" id="id23"><code class="xref py py-mod docutils literal notranslate"><span class="pre">json_sorter</span></code></a></li>
<li><a class="reference internal" href="#module-pyutil.lazy_downloader" id="id24"><code class="xref py py-mod docutils literal notranslate"><span class="pre">lazy_downloader</span></code></a><ul>
<li><a class="reference internal" href="#safety-features" id="id25">Safety Features</a></li>
<li><a class="reference internal" href="#collections-chainmap" id="id26"><code class="xref py py-class docutils literal notranslate"><span class="pre">collections.ChainMap()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-pyutil.linktree" id="id27"><code class="xref py py-mod docutils literal notranslate"><span class="pre">linktree</span></code></a></li>
<li><a class="reference internal" href="#module-pyutil.magic_aid" id="id28"><code class="xref py py-mod docutils literal notranslate"><span class="pre">magic_aid</span></code></a><ul>
<li><a class="reference internal" href="#ipython-aliases" id="id29">IPython Aliases</a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-pyutil.mv_to_repo" id="id30"><code class="xref py py-mod docutils literal notranslate"><span class="pre">mv_to_repo</span></code></a></li>
<li><a class="reference internal" href="#module-pyutil.nvim_profiling" id="id31"><code class="xref py py-mod docutils literal notranslate"><span class="pre">nvim_profiling</span></code></a></li>
<li><a class="reference internal" href="#module-pyutil.ptags" id="id32"><code class="xref py py-mod docutils literal notranslate"><span class="pre">ptags</span></code></a><ul>
<li><a class="reference internal" href="#files-to-tag" id="id33">Files to tag</a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-pyutil.rclone" id="id34"><code class="xref py py-mod docutils literal notranslate"><span class="pre">rclone</span></code></a></li>
<li><a class="reference internal" href="#module-pyutil.strip_space" id="id35"><code class="xref py py-mod docutils literal notranslate"><span class="pre">strip_space</span></code></a><ul>
<li><a class="reference internal" href="#python-requirement" id="id36">Python Requirement</a></li>
<li><a class="reference internal" href="#still-need-to-implement" id="id37">Still need to implement</a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-pyutil.sys_checks" id="id38"><code class="xref py py-mod docutils literal notranslate"><span class="pre">sys_checks</span></code></a></li>
<li><a class="reference internal" href="#module-pyutil.wrap" id="id39"><code class="xref py py-mod docutils literal notranslate"><span class="pre">wrap</span></code></a></li>
<li><a class="reference internal" href="#module-pyutil.yes_no_question" id="id40"><code class="xref py py-mod docutils literal notranslate"><span class="pre">yes_no_question</span></code></a></li>
<li><a class="reference internal" href="#module-pyutil.ytdl" id="id41"><code class="xref py py-mod docutils literal notranslate"><span class="pre">ytdl</span></code></a><ul>
<li><a class="reference internal" href="#we-got-it" id="id42">We got it!</a></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="module-pyutil.backup_nt_and_posix">
<span id="backup-nt-and-posix"></span><h2><a class="toc-backref" href="#id5"><code class="xref py py-mod docutils literal notranslate"><span class="pre">backup_nt_and_posix</span></code></a><a class="headerlink" href="#module-pyutil.backup_nt_and_posix" title="Permalink to this headline">¶</a></h2>
<p>Backup a directory by appending the date and time and copying over.</p>
<div class="section" id="motivation">
<h3><a class="toc-backref" href="#id6">Motivation</a><a class="headerlink" href="#motivation" title="Permalink to this headline">¶</a></h3>
<p>This script aims to be platform agnostic and in the long term will be used on
Windows, Linux, Mac and Android systems.</p>
<div class="admonition-todo admonition" id="index-0">
<p class="first admonition-title">Todo</p>
<p class="last">Consider rewriting using classes to hold state based on OS. Then utilize <a class="reference external" href="https://docs.python.org/3/library/pathlib.html#module-pathlib" title="(in Python v3.7)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">pathlib</span></code></a>.</p>
</div>
<dl class="function">
<dt id="pyutil.backup_nt_and_posix.timestamped_dir">
<code class="descclassname">pyutil.backup_nt_and_posix.</code><code class="descname">timestamped_dir</code><span class="sig-paren">(</span><em>backup_dir</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyutil/backup_nt_and_posix.html#timestamped_dir"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyutil.backup_nt_and_posix.timestamped_dir" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a backup of a directory. Append date and time to new dir name.</p>
<div class="admonition-todo admonition" id="index-1">
<p class="first admonition-title">Todo</p>
<p class="last">Change this so that it utilizes <a class="reference external" href="https://docs.python.org/3/library/subprocess.html#subprocess.check_call" title="(in Python v3.7)"><code class="xref py py-func docutils literal notranslate"><span class="pre">subprocess.check_call()</span></code></a> so we handle return codes in a better way.</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>backup_dir</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – Directory to backup</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><ul class="simple">
<li><strong>err_code</strong> (<em>int</em>) – Non-zero value indicates error code, or zero on success.</li>
<li><strong>err_msg</strong> (<em>str or None</em>) – Human readable error message, or None on success.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
</div>
<div class="section" id="module-pyutil.batch_renamer">
<span id="batch-renamer"></span><h2><a class="toc-backref" href="#id7"><code class="xref py py-mod docutils literal notranslate"><span class="pre">batch_renamer</span></code></a><a class="headerlink" href="#module-pyutil.batch_renamer" title="Permalink to this headline">¶</a></h2>
<p>Renames a directory of files based on a template.</p>
<span class="target" id="module-batch_renamer.py"></span><p>Initially inspired f rom the Official Python documentation in the section
Tutorials: <a class="reference external" href="https://docs.python.org/3/tutorial/stdlib2.html#templating">tutorials stdlib2</a> with some reformatting.</p>
<p>Still uses old style strings as a result.</p>
<p>First we’ll examine the contents of a directory and ensure it only contains
files with names we want to rename.</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">os</span><span class="o">.</span><span class="n">listdir</span><span class="p">(</span><span class="s2">&quot;/path/to/dir&quot;</span><span class="p">)</span>
<span class="go">[&#39;img_1074.jpg&#39;, &#39;img_1076.jpg&#39;, &#39;img_1077.jpg&#39;]</span>
</pre></div>
</div>
<p>As we can see it does we’ll then invoke the script like so.</p>
<div class="highlight-shell-session notranslate"><div class="highlight"><pre><span></span><span class="go">batch_renamer.py /path/to/dir</span>
<span class="go">img_1074.jpg --&gt; Ashley_0.jpg</span>
<span class="go">img_1076.jpg --&gt; Ashley_1.jpg</span>
<span class="go">img_1077.jpg --&gt; Ashley_2.jpg</span>
</pre></div>
</div>
<dl class="class">
<dt id="pyutil.batch_renamer.BatchRename">
<em class="property">class </em><code class="descclassname">pyutil.batch_renamer.</code><code class="descname">BatchRename</code><span class="sig-paren">(</span><em>template</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyutil/batch_renamer.html#BatchRename"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyutil.batch_renamer.BatchRename" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/string.html#string.Template" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">string.Template</span></code></a></p>
<p>Delimiter for string substitutions.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Attributes:</th><td class="field-body"><dl class="first last docutils">
<dt><strong>braceidpattern</strong></dt>
<dd></dd>
</dl>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Methods</p>
<table border="1" class="docutils">
<colgroup>
<col width="66%" />
<col width="34%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><strong>safe_substitute</strong></td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td><strong>substitute</strong></td>
<td>&#160;</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt id="pyutil.batch_renamer.BatchRename.delimiter">
<code class="descname">delimiter</code><em class="property"> = '%'</em><a class="headerlink" href="#pyutil.batch_renamer.BatchRename.delimiter" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="pyutil.batch_renamer.BatchRename.pattern">
<code class="descname">pattern</code><em class="property"> = re.compile('\n    %(?:\n      (?P&lt;escaped&gt;%) |   # Escape sequence of two delimiters\n      (?P&lt;named&gt;(?a:[_a-z][_a-z0-9]*))      |   # delimiter and a Python identifier\n      {(?P&lt;braced&gt;(?a:[_a-z][_a-z0-9]*)), re.IGNORECASE|re.VERBOSE)</em><a class="headerlink" href="#pyutil.batch_renamer.BatchRename.pattern" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="function">
<dt id="pyutil.batch_renamer._parse_arguments">
<code class="descclassname">pyutil.batch_renamer.</code><code class="descname">_parse_arguments</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyutil/batch_renamer.html#_parse_arguments"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyutil.batch_renamer._parse_arguments" title="Permalink to this definition">¶</a></dt>
<dd><p>Parse user arguments.</p>
</dd></dl>

<dl class="function">
<dt id="pyutil.batch_renamer.batch_mover">
<code class="descclassname">pyutil.batch_renamer.</code><code class="descname">batch_mover</code><span class="sig-paren">(</span><em>pattern</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyutil/batch_renamer.html#batch_mover"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyutil.batch_renamer.batch_mover" title="Permalink to this definition">¶</a></dt>
<dd><p>Move files in the current working directory that match a pattern.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>pattern</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – Pattern to check filenames for.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"></td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)">bool</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="pyutil.batch_renamer.fix_extension">
<code class="descclassname">pyutil.batch_renamer.</code><code class="descname">fix_extension</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyutil/batch_renamer.html#fix_extension"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyutil.batch_renamer.fix_extension" title="Permalink to this definition">¶</a></dt>
<dd><p>Rename files that have have the wrong filename extension.</p>
</dd></dl>

<dl class="function">
<dt id="pyutil.batch_renamer.main">
<code class="descclassname">pyutil.batch_renamer.</code><code class="descname">main</code><span class="sig-paren">(</span><em>directory</em>, <em>fmt</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyutil/batch_renamer.html#main"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyutil.batch_renamer.main" title="Permalink to this definition">¶</a></dt>
<dd><p>Rename a user provided directory of files.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>directory</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – The directory to iterate over.</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="module-pyutil.check_IP">
<span id="check-ip"></span><h2><a class="toc-backref" href="#id8"><code class="xref py py-mod docutils literal notranslate"><span class="pre">check_IP</span></code></a><a class="headerlink" href="#module-pyutil.check_IP" title="Permalink to this headline">¶</a></h2>
<p>Print a user’s public IP address and hostname.</p>
<p class="rubric">Requires</p>
<p><code class="xref py py-mod docutils literal notranslate"><span class="pre">requests</span></code></p>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p>From Kenneth Reitz, owner of <a class="reference external" href="https://httpbin.org/ip">httpbin</a>.</p>
<p>Installing packages for your project:</p>
<p class="last"><a class="reference external" href="https://docs.python-guide.org/en/latest/dev/virtualenvs/">https://docs.python-guide.org/en/latest/dev/virtualenvs/</a></p>
</div>
<dl class="function">
<dt id="pyutil.check_IP.get_hostname">
<code class="descclassname">pyutil.check_IP.</code><code class="descname">get_hostname</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyutil/check_IP.html#get_hostname"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyutil.check_IP.get_hostname" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the user’s hostname.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><strong>host_return_msg</strong> – A formatted message displaying the user’s IP address.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)">str</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="pyutil.check_IP.get_public_ip">
<code class="descclassname">pyutil.check_IP.</code><code class="descname">get_public_ip</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyutil/check_IP.html#get_public_ip"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyutil.check_IP.get_public_ip" title="Permalink to this definition">¶</a></dt>
<dd><p>Fetch the user’s public IP address by querying <a class="reference external" href="httpbin.org">httpbin.org</a>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><strong>rt</strong> – A <a class="reference external" href="https://docs.python.org/3/library/json.html#module-json" title="(in Python v3.7)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">json</span></code></a> formatted message displaying the user’s IP address.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)">str</a></td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="module-pyutil.conda_export">
<span id="conda-export"></span><h2><a class="toc-backref" href="#id9"><code class="xref py py-mod docutils literal notranslate"><span class="pre">conda_export</span></code></a><a class="headerlink" href="#module-pyutil.conda_export" title="Permalink to this headline">¶</a></h2>
<p>Iterate over the list of conda environments that are present.</p>
<p class="rubric">Returns</p>
<p>Separate text files. 2 for each environment.:</p>
<blockquote>
<div><ul class="simple">
<li>One with general metadata</li>
<li>One with a list of packages.</li>
</ul>
</div></blockquote>
<div class="admonition-todo admonition" id="index-2">
<p class="first admonition-title">Todo</p>
<ul class="last simple">
<li><dl class="first docutils">
<dt>Possibly refactor into more functions.</dt>
<dd><ul class="first last">
<li>Would this warrant a class?</li>
</ul>
</dd>
</dl>
</li>
<li>Add logging. Return more useful info besides just printing.</li>
</ul>
</div>
<p>Work in progress.</p>
<dl class="function">
<dt id="pyutil.conda_export.munging">
<code class="descclassname">pyutil.conda_export.</code><code class="descname">munging</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyutil/conda_export.html#munging"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyutil.conda_export.munging" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterate through conda envs and return text files to replicate from.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><strong>envs</strong> – list of conda environments</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.7)">list</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="pyutil.conda_export.truncate">
<code class="descclassname">pyutil.conda_export.</code><code class="descname">truncate</code><span class="sig-paren">(</span><em>envs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyutil/conda_export.html#truncate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyutil.conda_export.truncate" title="Permalink to this definition">¶</a></dt>
<dd><p>Take output from pyutil.conda_export.munging, reduce and print to console.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>envs</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – Conda environments</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><strong>short_envs</strong> – Shorter name of all envs. Printed to console.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">list of strs</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="module-pyutil.dir_cleaner">
<span id="dir-cleaner"></span><h2><a class="toc-backref" href="#id10"><code class="xref py py-mod docutils literal notranslate"><span class="pre">dir_cleaner</span></code></a><a class="headerlink" href="#module-pyutil.dir_cleaner" title="Permalink to this headline">¶</a></h2>
<p>Deletes extraneous files.</p>
<p>Run in <code class="docutils literal notranslate"><span class="pre">$PREFIX/tmp.</span></code></p>
<p>Can modify to accept user input and fall back to that dir.
Implement once all the logic has panned out.</p>
<div class="admonition-todo admonition" id="index-3">
<p class="first admonition-title">Todo</p>
<p class="last">Write a second function that implemenents <code class="docutils literal notranslate"><span class="pre">rm</span> <span class="pre">-r</span></code> if <code class="docutils literal notranslate"><span class="pre">du</span> <span class="pre">dir==0</span></code></p>
</div>
<ul class="simple">
<li><dl class="first docutils">
<dt>Failing that, specifically delete directories with only month old sockets</dt>
<dd><ul class="first last">
<li><code class="docutils literal notranslate"><span class="pre">$PREFIX/tmp/nvim-*</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">$PREFIX/tmp/ssh-*</span></code></li>
</ul>
</dd>
</dl>
</li>
</ul>
<p>Dec 01, 2018:</p>
<blockquote>
<div>I was writing this like on termux like 4 days ago. Cleaned up
~/python/tutorials/fnmatch.py and realized it’s the exact same thing.</div></blockquote>
<dl class="function">
<dt id="pyutil.dir_cleaner.clean">
<code class="descclassname">pyutil.dir_cleaner.</code><code class="descname">clean</code><span class="sig-paren">(</span><em>ftype='*.pyc'</em>, <em>recursive=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyutil/dir_cleaner.html#clean"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyutil.dir_cleaner.clean" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove all pyc files. Add input for filetype later.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>ftype</strong> (<em>filetype</em>) – File to iterately remove.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="pyutil.dir_cleaner.dir_cleaner">
<code class="descclassname">pyutil.dir_cleaner.</code><code class="descname">dir_cleaner</code><span class="sig-paren">(</span><em>i</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyutil/dir_cleaner.html#dir_cleaner"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyutil.dir_cleaner.dir_cleaner" title="Permalink to this definition">¶</a></dt>
<dd><p>Yield all directories before november.</p>
</dd></dl>

<dl class="function">
<dt id="pyutil.dir_cleaner.extract_dir">
<code class="descclassname">pyutil.dir_cleaner.</code><code class="descname">extract_dir</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyutil/dir_cleaner.html#extract_dir"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyutil.dir_cleaner.extract_dir" title="Permalink to this definition">¶</a></dt>
<dd><p>Could be used in dir_cleaner. Yeah let’s do that.</p>
<div class="admonition-todo admonition" id="index-4">
<p class="first admonition-title">Todo</p>
<p class="last"><em>sigh</em> alright so we need to add a check that the zip has a child dir in it. Extracted 3 zips rn and its all mixed together :(</p>
</div>
</dd></dl>

</div>
<div class="section" id="module-pyutil.dlink">
<span id="dlink"></span><h2><a class="toc-backref" href="#id11"><a class="reference internal" href="#module-dlink" title="dlink: Symlinks a directory of files from another."><code class="xref py py-mod docutils literal notranslate"><span class="pre">dlink</span></code></a></a><a class="headerlink" href="#module-pyutil.dlink" title="Permalink to this headline">¶</a></h2>
<p>Symlink all of the files in one directory into another.</p>
<span class="target" id="module-dlink"></span><div class="section" id="synopsis">
<h3><a class="toc-backref" href="#id12">Synopsis</a><a class="headerlink" href="#synopsis" title="Permalink to this headline">¶</a></h3>
<p>This module can be used to create individual symlinks to every file in a
directory. This is a huge convenience wen symlinking dotfiles or configuration
files held in a different location than where the software of interest expects
it.</p>
<p>This is quite easily one of my most frequently used scripts.</p>
</div>
<div class="section" id="usage">
<h3><a class="toc-backref" href="#id13">Usage</a><a class="headerlink" href="#usage" title="Permalink to this headline">¶</a></h3>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>ln -s path/to/dest/* <span class="o">[</span>path/to/src<span class="o">]</span>
</pre></div>
</div>
<p>As an example, one can <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">clone</span> <span class="pre">dotfiles</span></code> in a directory named <code class="xref py py-obj docutils literal notranslate"><span class="pre">projects</span></code>
or <code class="xref py py-obj docutils literal notranslate"><span class="pre">src</span></code>. The location of the git repository is irrelevant, and as such, we’ll
refer to it as <code class="xref py py-obj docutils literal notranslate"><span class="pre">src</span></code> from here, as <code class="xref py py-obj docutils literal notranslate"><span class="pre">dest</span></code> as it’s where the symlinks point to.</p>
<p>For example if wants symlinks pointing to <code class="docutils literal notranslate"><span class="pre">/home/User/dotfiles/.vim</span></code>,
then running dlink.py in <code class="docutils literal notranslate"><span class="pre">/home/User/.vim</span></code> with <code class="docutils literal notranslate"><span class="pre">$HOME/dotfiles/.vim</span></code> as
an argument will create symlinks in <code class="docutils literal notranslate"><span class="pre">$HOME/.vim</span></code> pointing to
<code class="docutils literal notranslate"><span class="pre">$HOME/dotfiles/.vim</span></code>.</p>
</div>
<div class="section" id="inspiration">
<h3><a class="toc-backref" href="#id14">Inspiration</a><a class="headerlink" href="#inspiration" title="Permalink to this headline">¶</a></h3>
<p>If the module is given 2 args, the intended response is for it to behave  similarly to the classic Unix idiom:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>ln -s path/to/dest/* <span class="o">[</span>path/to/src<span class="o">]</span>
</pre></div>
</div>
<p>or treat it similarly to <a class="reference external" href="https://docs.python.org/3/library/os.html#os.symlink" title="(in Python v3.7)"><code class="xref py py-func docutils literal notranslate"><span class="pre">os.symlink()</span></code></a>.</p>
<dl class="function">
<dt id="pyutil.dlink.dlink">
<code class="descclassname">pyutil.dlink.</code><code class="descname">dlink</code><span class="sig-paren">(</span><em>dest</em>, <em>src</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyutil/dlink.html#dlink"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyutil.dlink.dlink" title="Permalink to this definition">¶</a></dt>
<dd><p>Symlinks a directory from another one.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>dest</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – The directory where the original files are located.</li>
<li><strong>src</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – Optional argument indicating the directory where the symlinks
are to be created.
If the <code class="xref py py-obj docutils literal notranslate"><span class="pre">src</span></code> argument isn’t provided, it is assumed that the current
working directory is the <code class="xref py py-obj docutils literal notranslate"><span class="pre">src</span></code> dir.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
</div>
<div class="section" id="module-pyutil.dlink2">
<span id="dlink2"></span><h2><a class="toc-backref" href="#id15"><code class="xref py py-mod docutils literal notranslate"><span class="pre">dlink2</span></code></a><a class="headerlink" href="#module-pyutil.dlink2" title="Permalink to this headline">¶</a></h2>
<p>Possibly rewrote the entire module in half as many lines.</p>
<p>Now utilizes necessary libraries like glob.</p>
<div class="admonition-todo admonition" id="index-5">
<p class="first admonition-title">Todo</p>
<p class="last">Argparse?</p>
</div>
<dl class="function">
<dt id="pyutil.dlink2.main">
<code class="descclassname">pyutil.dlink2.</code><code class="descname">main</code><span class="sig-paren">(</span><em>i</em>, <em>j=&lt;built-in function getcwd&gt;</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyutil/dlink2.html#main"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyutil.dlink2.main" title="Permalink to this definition">¶</a></dt>
<dd><p>Symlink user provided files.</p>
</dd></dl>

</div>
<div class="section" id="module-pyutil.env">
<span id="env"></span><h2><a class="toc-backref" href="#id16"><code class="xref py py-mod docutils literal notranslate"><span class="pre">env</span></code></a><a class="headerlink" href="#module-pyutil.env" title="Permalink to this headline">¶</a></h2>
<p>Simple module that pretty prints the user’s environment variables.</p>
<p>This is actually implemented as an IPython magic but to make it easier
to use in a typical Python REPL it’s also implemented here.</p>
<p>The if name == ‘__main__’ is left off so that it can be run directly
or sourced.</p>
<dl class="function">
<dt id="pyutil.env.current">
<code class="descclassname">pyutil.env.</code><code class="descname">current</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyutil/env.html#current"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyutil.env.current" title="Permalink to this definition">¶</a></dt>
<dd><p>Prints all current environment variables.</p>
</dd></dl>

</div>
<div class="section" id="module-pyutil.env_checks">
<span id="env-checks"></span><h2><a class="toc-backref" href="#id17"><code class="xref py py-mod docutils literal notranslate"><span class="pre">env_checks</span></code></a><a class="headerlink" href="#module-pyutil.env_checks" title="Permalink to this headline">¶</a></h2>
<p>Run simple checks to ensure that a user’s environment has been set up.</p>
<p>Easier to group similar methods in one mod then have them scattered around.</p>
<p>Below is a generic example of using the public methods to read in user
defined configurations.</p>
<p class="rubric">Example</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">env_checks</span> <span class="k">import</span> <span class="n">check_xdg_config_home</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">if</span> <span class="n">check_xdg_config_home</span><span class="p">():</span>
<span class="go">    &gt;&gt;&gt; with open(&#39;module.conf&#39;, &#39;rt&#39;) as f:</span>
<span class="go">        &gt;&gt;&gt; configs = f.readlines()</span>
</pre></div>
</div>
<div class="section" id="matplotlib-env-checks">
<h3><a class="toc-backref" href="#id18">Matplotlib Env Checks</a><a class="headerlink" href="#matplotlib-env-checks" title="Permalink to this headline">¶</a></h3>
<p>Mar 08, 2019</p>
<p>Just noticed today the following functions:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">try</span><span class="p">:</span>
    <span class="kn">import</span> <span class="nn">matplotlib</span> <span class="k">as</span> <span class="nn">mpl</span>
<span class="k">except</span> <span class="ne">ImportError</span><span class="p">:</span>
    <span class="k">pass</span>
<span class="n">mpl</span><span class="o">.</span><span class="n">get_home</span><span class="p">()</span>
<span class="n">mpl</span><span class="o">.</span><span class="n">_get_xdg_cache_dir</span><span class="p">()</span>
<span class="n">mpl</span><span class="o">.</span><span class="n">_get_xdg_config_dir</span><span class="p">()</span>
<span class="n">mpl</span><span class="o">.</span><span class="n">_get_data_path</span><span class="p">()</span>
</pre></div>
</div>
<p>Here’s an interesting way to memoize return values.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">_logged_cached</span><span class="p">(</span><span class="n">fmt</span><span class="p">,</span> <span class="n">func</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
    \<span class="s2">&quot;</span><span class="se">\&quot;\&quot;</span>
    <span class="n">Decorator</span> <span class="n">that</span> <span class="n">logs</span> <span class="n">a</span> <span class="n">function</span><span class="s1">&#39;s return value, and memoizes that value.</span>

    <span class="n">After</span> <span class="p">::</span>

        <span class="nd">@_logged_cached</span><span class="p">(</span><span class="n">fmt</span><span class="p">)</span>
        <span class="k">def</span> <span class="nf">func</span><span class="p">():</span> <span class="o">...</span>

    <span class="n">the</span> <span class="n">first</span> <span class="n">call</span> <span class="n">to</span> <span class="o">*</span><span class="n">func</span><span class="o">*</span> <span class="n">will</span> <span class="n">log</span> <span class="n">its</span> <span class="k">return</span> <span class="n">value</span> <span class="n">at</span> <span class="n">the</span> <span class="n">DEBUG</span> <span class="n">level</span> <span class="n">using</span>
    <span class="o">%-</span><span class="nb">format</span> <span class="n">string</span> <span class="o">*</span><span class="n">fmt</span><span class="o">*</span><span class="p">,</span> <span class="ow">and</span> <span class="n">memoize</span> <span class="n">it</span><span class="p">;</span> <span class="n">later</span> <span class="n">calls</span> <span class="n">to</span> <span class="o">*</span><span class="n">func</span><span class="o">*</span> <span class="n">will</span> <span class="n">directly</span>
    <span class="k">return</span> <span class="n">that</span> <span class="n">value</span><span class="o">.</span>
    \<span class="s2">&quot;</span><span class="se">\&quot;\&quot;</span>
    <span class="k">if</span> <span class="n">func</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>  <span class="c1"># Return the actual decorator.</span>
        <span class="k">return</span> <span class="n">functools</span><span class="o">.</span><span class="n">partial</span><span class="p">(</span><span class="n">_logged_cached</span><span class="p">,</span> <span class="n">fmt</span><span class="p">)</span>

    <span class="n">called</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="n">ret</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="nd">@functools</span><span class="o">.</span><span class="n">wraps</span><span class="p">(</span><span class="n">func</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">wrapper</span><span class="p">():</span>
        <span class="k">nonlocal</span> <span class="n">called</span><span class="p">,</span> <span class="n">ret</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">called</span><span class="p">:</span>
            <span class="n">ret</span> <span class="o">=</span> <span class="n">func</span><span class="p">()</span>
            <span class="n">called</span> <span class="o">=</span> <span class="kc">True</span>
            <span class="n">_log</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="n">fmt</span><span class="p">,</span> <span class="n">ret</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">ret</span>

    <span class="k">return</span> <span class="n">wrapper</span>
</pre></div>
</div>
<dl class="function">
<dt id="pyutil.env_checks.check_xdg_config_home">
<code class="descclassname">pyutil.env_checks.</code><code class="descname">check_xdg_config_home</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyutil/env_checks.html#check_xdg_config_home"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyutil.env_checks.check_xdg_config_home" title="Permalink to this definition">¶</a></dt>
<dd><p>Check to see if <code class="xref py py-obj docutils literal notranslate"><span class="pre">$XDG_CONFIG_HOME</span></code> has been defined.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"></td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)">bool</a></td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">env_checks</span> <span class="k">import</span> <span class="n">check_xdg_config_home</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">if</span> <span class="n">check_xdg_config_home</span><span class="p">():</span>
<span class="go">    &gt;&gt;&gt; with open(&#39;module.conf&#39;, &#39;rt&#39;) as f:</span>
<span class="go">        &gt;&gt;&gt; configs = f.readlines()</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="pyutil.env_checks.env_check">
<code class="descclassname">pyutil.env_checks.</code><code class="descname">env_check</code><span class="sig-paren">(</span><em>env_var</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyutil/env_checks.html#env_check"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyutil.env_checks.env_check" title="Permalink to this definition">¶</a></dt>
<dd><p>Search the current namescope for variable <code class="xref py py-obj docutils literal notranslate"><span class="pre">env_var</span></code>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>env_var</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – Environment variable to search for. Currently case-sensitive.</td>
</tr>
<tr class="field-even field"><th class="field-name">Yields:</th><td class="field-body"><strong>i</strong> (<em>dict_key</em>) – The environment variable searched for. Env vars are mapped as dicts.</td>
</tr>
</tbody>
</table>
<p class="rubric">Example</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">env_checks</span> <span class="k">import</span> <span class="n">env_check</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fzf</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">env_check</span><span class="p">(</span><span class="s1">&#39;fzf&#39;</span><span class="p">))</span>
<span class="go">[</span>
<span class="go">        &#39;_fzf_orig_completion_awk&#39;, &#39;_fzf_orig_completion_cat&#39;,</span>
<span class="go">        &#39;_fzf_orig_completion_cd&#39;, &#39;_fzf_orig_completion_cp&#39;,</span>
<span class="go">        &#39;_fzf_orig_completion_diff&#39;, &#39;_fzf_orig_completion_du&#39;,</span>
<span class="go">        &#39;_fzf_orig_completion_ftp&#39;, &#39;_fzf_orig_completion_grep&#39;,</span>
<span class="go">        &#39;_fzf_orig_completion_head&#39;, &#39;_fzf_orig_completion_ld&#39;,</span>
<span class="go">        &#39;_fzf_orig_completion_less&#39;, &#39;_fzf_orig_completion_ln&#39;,</span>
<span class="go">        &#39;_fzf_orig_completion_ls&#39;, &#39;_fzf_orig_completion_mv&#39;,</span>
<span class="go">        &#39;_fzf_orig_completion_pushd&#39;, &#39;_fzf_orig_completion_rm&#39;,</span>
<span class="go">        &#39;_fzf_orig_completion_rmdir&#39;, &#39;_fzf_orig_completion_sed&#39;,</span>
<span class="go">        &#39;_fzf_orig_completion_sort&#39;, &#39;_fzf_orig_completion_tail&#39;,</span>
<span class="go">        &#39;_fzf_orig_completion_tee&#39;, &#39;_fzf_orig_completion_telnet&#39;,</span>
<span class="go">        &#39;_fzf_orig_completion_uniq&#39;, &#39;_fzf_orig_completion_wc&#39;</span>
<span class="go">        ]</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="pyutil.env_checks.get_script_dir">
<code class="descclassname">pyutil.env_checks.</code><code class="descname">get_script_dir</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyutil/env_checks.html#get_script_dir"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyutil.env_checks.get_script_dir" title="Permalink to this definition">¶</a></dt>
<dd><p>Determine the directory the script is in.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><strong>Directory the file is in</strong></td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)">str</a></td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
</div>
<div class="section" id="module-pyutil.find_pics">
<span id="find-pics"></span><h2><a class="toc-backref" href="#id19"><a class="reference internal" href="#module-find_pics" title="find_pics: Module that finds jpg and jpegs files in the current dir."><code class="xref py py-mod docutils literal notranslate"><span class="pre">find_pics</span></code></a></a><a class="headerlink" href="#module-pyutil.find_pics" title="Permalink to this headline">¶</a></h2>
<p>Module that finds jpg and jpegs files in the current dir.</p>
<span class="target" id="module-find_pics"></span><div class="admonition-todo admonition" id="index-6">
<p class="first admonition-title">Todo</p>
<p class="last">Should accept command line arguments.</p>
</div>
<p>We’ll say that another thing on the todo list is
return a path-like object from <a class="reference internal" href="#module-find_pics" title="find_pics: Module that finds jpg and jpegs files in the current dir."><code class="xref py py-func docutils literal notranslate"><span class="pre">find_pics()</span></code></a>.
# print(os.path.abspath(match)</p>
<dl class="function">
<dt id="pyutil.find_pics.find_pics">
<code class="descclassname">pyutil.find_pics.</code><code class="descname">find_pics</code><span class="sig-paren">(</span><em>picture</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyutil/find_pics.html#find_pics"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyutil.find_pics.find_pics" title="Permalink to this definition">¶</a></dt>
<dd><p>Finds jpegs and jpgs.</p>
<div class="admonition-todo admonition" id="index-7">
<p class="first admonition-title">Todo</p>
<p class="last">Format the match object so it’s more usable</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>picture</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – Path to a file that may or may not be a jpg/jpeg</td>
</tr>
<tr class="field-even field"><th class="field-name">Yields:</th><td class="field-body"><strong>matched</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">re.match()</span></code> object) – Filename that matches a jpg/jpeg regex.</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="module-pyutil.g">
<span id="g"></span><h2><a class="toc-backref" href="#id20"><code class="xref py py-mod docutils literal notranslate"><span class="pre">g</span></code></a><a class="headerlink" href="#module-pyutil.g" title="Permalink to this headline">¶</a></h2>
<p>Export functions to ease IPython/Git interactions.</p>
<div class="admonition-todo admonition" id="index-8">
<p class="first admonition-title">Todo</p>
<p class="last">What version of python was <a class="reference external" href="https://docs.python.org/3/library/subprocess.html#subprocess.check_output" title="(in Python v3.7)"><code class="xref py py-func docutils literal notranslate"><span class="pre">subprocess.check_output()</span></code></a> introduced in?</p>
</div>
<dl class="function">
<dt id="pyutil.g.get_git_branch">
<code class="descclassname">pyutil.g.</code><code class="descname">get_git_branch</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyutil/g.html#get_git_branch"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyutil.g.get_git_branch" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the symbolic name for the current git branch.</p>
</dd></dl>

<dl class="function">
<dt id="pyutil.g.get_git_root">
<code class="descclassname">pyutil.g.</code><code class="descname">get_git_root</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyutil/g.html#get_git_root"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyutil.g.get_git_root" title="Permalink to this definition">¶</a></dt>
<dd><p>Show the root of a repo.</p>
</dd></dl>

<dl class="function">
<dt id="pyutil.g.get_git_upstream_remote">
<code class="descclassname">pyutil.g.</code><code class="descname">get_git_upstream_remote</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyutil/g.html#get_git_upstream_remote"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyutil.g.get_git_upstream_remote" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the remote name to use for upstream branches.</p>
<p>Uses “upstream” if it exists, “origin” otherwise</p>
</dd></dl>

<dl class="function">
<dt id="pyutil.g.git_touch">
<code class="descclassname">pyutil.g.</code><code class="descname">git_touch</code><span class="sig-paren">(</span><em>args</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyutil/g.html#git_touch"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyutil.g.git_touch" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a file and <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">add</span></code> it.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>args</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a><em> (</em><em>path-like object</em><em>)</em>) – Path to a file that’s needs to be staged and added to the Git index.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><strong>None</strong></td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.7)">None</a></td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="module-pyutil.inspect_module">
<span id="inspect-module"></span><h2><a class="toc-backref" href="#id21"><code class="xref py py-mod docutils literal notranslate"><span class="pre">inspect_module</span></code></a><a class="headerlink" href="#module-pyutil.inspect_module" title="Permalink to this headline">¶</a></h2>
<p>Explore the namespace and attributes of a module.</p>
<p>Written before <a class="reference external" href="https://docs.python.org/3/library/pyclbr.html#module-pyclbr" title="(in Python v3.7)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">pyclbr</span></code></a> was created.
However Python3.6 now has the builtin module <a class="reference external" href="https://docs.python.org/3/library/pyclbr.html#module-pyclbr" title="(in Python v3.7)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">pyclbr</span></code></a> so this entire
script may be irrelevant.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">param mod_name:</th><td class="field-body">If no argument is provided, then use the namespace bound to the global
<code class="xref py py-class docutils literal notranslate"><span class="pre">IPython.core.interactiveshell.InteractiveShell()</span></code> object.</td>
</tr>
<tr class="field-even field"><th class="field-name">type mod_name:</th><td class="field-body">module to inspect</td>
</tr>
</tbody>
</table>
<dl class="function">
<dt id="pyutil.inspect_module.main">
<code class="descclassname">pyutil.inspect_module.</code><code class="descname">main</code><span class="sig-paren">(</span><em>mod_name</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyutil/inspect_module.html#main"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyutil.inspect_module.main" title="Permalink to this definition">¶</a></dt>
<dd><p>Show all available methods for the given object.</p>
<p>It shouldn’t prove difficult to refactor a few things and allow this
function to also take list arguments. Then the user could either give a
comma separated list of modules to explore, or they could give a file.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>mod_name</strong> (<em>mod</em>) – The provided module to inspect for the user.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><strong>mod_namespace</strong> – The provided module’s namespace.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">methods and attributes</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="module-pyutil.itersrc">
<span id="itersrc"></span><h2><a class="toc-backref" href="#id22"><code class="xref py py-mod docutils literal notranslate"><span class="pre">itersrc</span></code></a><a class="headerlink" href="#module-pyutil.itersrc" title="Permalink to this headline">¶</a></h2>
<p>Iterate over all of the python files in a directory recursively.</p>
<span class="target" id="module-itersrc.py"></span><div class="versionchanged">
<p><span class="versionmodified">Changed in version 0.0.1: </span>Just added a check for python files. This could be useful as a base
for a test runner.</p>
</div>
<dl class="function">
<dt id="pyutil.itersrc.iter_source_code">
<code class="descclassname">pyutil.itersrc.</code><code class="descname">iter_source_code</code><span class="sig-paren">(</span><em>paths</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyutil/itersrc.html#iter_source_code"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyutil.itersrc.iter_source_code" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterate over all Python source files in C{paths}.</p>
<p>Taken with almost no modifications from <code class="xref py py-mod docutils literal notranslate"><span class="pre">pyflakes</span></code>.</p>
<p>This would be a great function to call with <a class="reference external" href="https://docs.python.org/3/library/os.html#os.listdir" title="(in Python v3.7)"><code class="xref py py-func docutils literal notranslate"><span class="pre">os.listdir()</span></code></a>
output.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>paths</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.7)"><em>list</em></a>) – A list of paths.  Directories will be recursed into and
any .py files found will be yielded.
Any non-directories will be yielded as-is.</td>
</tr>
<tr class="field-even field"><th class="field-name">Yields:</th><td class="field-body"><strong>full_path</strong> (<em>str</em>) – Absolute path to a python file.</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="module-pyutil.json_sorter">
<span id="json-sorter"></span><h2><a class="toc-backref" href="#id23"><code class="xref py py-mod docutils literal notranslate"><span class="pre">json_sorter</span></code></a><a class="headerlink" href="#module-pyutil.json_sorter" title="Permalink to this headline">¶</a></h2>
<p>Take a <a class="reference external" href="https://docs.python.org/3/library/json.html#module-json" title="(in Python v3.7)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">json</span></code></a> file and sort the keys and insert 4 spaces for indents.</p>
<p>This module was originally used to fix my settings.json from VSCode.</p>
<dl class="function">
<dt id="pyutil.json_sorter._parse_arguments">
<code class="descclassname">pyutil.json_sorter.</code><code class="descname">_parse_arguments</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyutil/json_sorter.html#_parse_arguments"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyutil.json_sorter._parse_arguments" title="Permalink to this definition">¶</a></dt>
<dd><p>Parse arguments given by the user.</p>
</dd></dl>

<dl class="function">
<dt id="pyutil.json_sorter.convert_to_yaml">
<code class="descclassname">pyutil.json_sorter.</code><code class="descname">convert_to_yaml</code><span class="sig-paren">(</span><em>file_obj</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyutil/json_sorter.html#convert_to_yaml"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyutil.json_sorter.convert_to_yaml" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a <a class="reference external" href="https://docs.python.org/3/library/json.html#module-json" title="(in Python v3.7)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">json</span></code></a> to YAML.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>file_obj</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – The file to read in</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><strong>yaml_object</strong> – Converted <code class="xref py py-mod docutils literal notranslate"><span class="pre">PyYAML</span></code> text.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)">str</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="pyutil.json_sorter.main">
<code class="descclassname">pyutil.json_sorter.</code><code class="descname">main</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyutil/json_sorter.html#main"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyutil.json_sorter.main" title="Permalink to this definition">¶</a></dt>
<dd><p>Handles user args, sets up logging and calls other functions.</p>
</dd></dl>

<dl class="function">
<dt id="pyutil.json_sorter.sort_json">
<code class="descclassname">pyutil.json_sorter.</code><code class="descname">sort_json</code><span class="sig-paren">(</span><em>file_obj</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyutil/json_sorter.html#sort_json"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyutil.json_sorter.sort_json" title="Permalink to this definition">¶</a></dt>
<dd><p>Read in a <a class="reference external" href="https://docs.python.org/3/library/json.html#module-json" title="(in Python v3.7)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">json</span></code></a> object, sort it and write it back to a new file.</p>
<p>By writing to a new file, the user is allowed the opportunity to inspect
the file and ensure that the desired results have been achieved.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>file_obj</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – The file to read in</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><strong>json_text</strong> – Correctly formmated <a class="reference external" href="https://docs.python.org/3/library/json.html#module-json" title="(in Python v3.7)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">json</span></code></a> text.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)">str</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="pyutil.json_sorter.text_writer">
<code class="descclassname">pyutil.json_sorter.</code><code class="descname">text_writer</code><span class="sig-paren">(</span><em>plaintext</em>, <em>output_file=&lt;_io.TextIOWrapper name='&lt;stdout&gt;' mode='w' encoding='utf-8'&gt;</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyutil/json_sorter.html#text_writer"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyutil.json_sorter.text_writer" title="Permalink to this definition">¶</a></dt>
<dd><p>Write the previously inputted text to a file.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>plaintext</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – The file to read in</li>
<li><strong>output_file</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – Text file to write formatted <a class="reference external" href="https://docs.python.org/3/library/json.html#module-json" title="(in Python v3.7)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">json</span></code></a> to.
It will only write to the file if the filename currently doesn’t exist.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="module-pyutil.lazy_downloader">
<span id="lazy-downloader"></span><h2><a class="toc-backref" href="#id24"><code class="xref py py-mod docutils literal notranslate"><span class="pre">lazy_downloader</span></code></a><a class="headerlink" href="#module-pyutil.lazy_downloader" title="Permalink to this headline">¶</a></h2>
<p>Automates downloading plain text files from the Web.</p>
<p>As implemented currently, it will only correctly handle plain text;
however, there are plans to implement the <code class="xref py py-mod docutils literal notranslate"><span class="pre">mimetype</span></code> module and
properly handle a much wider range of files.</p>
<p>Both parameters, <code class="xref py py-obj docutils literal notranslate"><span class="pre">url</span></code> and <code class="xref py py-obj docutils literal notranslate"><span class="pre">output_fname</span></code> are required parameters.</p>
<div class="section" id="safety-features">
<h3><a class="toc-backref" href="#id25">Safety Features</a><a class="headerlink" href="#safety-features" title="Permalink to this headline">¶</a></h3>
<p>If the filename already exists on the system it will NOT be overwritten,
and the script will safely exit.</p>
</div>
<div class="section" id="collections-chainmap">
<h3><a class="toc-backref" href="#id26"><code class="xref py py-class docutils literal notranslate"><span class="pre">collections.ChainMap()</span></code></a><a class="headerlink" href="#collections-chainmap" title="Permalink to this headline">¶</a></h3>
<p>This module is as a perfect candidate as exists for chainmap. Check env vars,
config files, commnand line args and user provided parameters.</p>
<dl class="function">
<dt id="pyutil.lazy_downloader._parse_arguments">
<code class="descclassname">pyutil.lazy_downloader.</code><code class="descname">_parse_arguments</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyutil/lazy_downloader.html#_parse_arguments"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyutil.lazy_downloader._parse_arguments" title="Permalink to this definition">¶</a></dt>
<dd><p>Parse user input.</p>
</dd></dl>

<dl class="function">
<dt id="pyutil.lazy_downloader._parse_site">
<code class="descclassname">pyutil.lazy_downloader.</code><code class="descname">_parse_site</code><span class="sig-paren">(</span><em>URL</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyutil/lazy_downloader.html#_parse_site"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyutil.lazy_downloader._parse_site" title="Permalink to this definition">¶</a></dt>
<dd><p>Parse the given <code class="xref py py-obj docutils literal notranslate"><span class="pre">URL</span></code>, remove tags and return plaintext.</p>
<p>This should probably be modified to take the user agent and header args.
:param URL: Site to download.
:type URL: str</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><strong>txt</strong> – Plaintext view of the website.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)">str</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="pyutil.lazy_downloader.find_links">
<code class="descclassname">pyutil.lazy_downloader.</code><code class="descname">find_links</code><span class="sig-paren">(</span><em>text</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyutil/lazy_downloader.html#find_links"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyutil.lazy_downloader.find_links" title="Permalink to this definition">¶</a></dt>
<dd><p>Search body of text for URLs.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>text</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – Body of formatted text to search for URLs.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><strong>links</strong> – URLs found on site.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">todo</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="pyutil.lazy_downloader.main">
<code class="descclassname">pyutil.lazy_downloader.</code><code class="descname">main</code><span class="sig-paren">(</span><em>url</em>, <em>output_fname</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyutil/lazy_downloader.html#main"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyutil.lazy_downloader.main" title="Permalink to this definition">¶</a></dt>
<dd><p>Download URL and write to disk.</p>
<div class="admonition-todo admonition" id="index-9">
<p class="first admonition-title">Todo</p>
<p class="last">Check that the file is plain text and not hit constant false positives</p>
</div>
<div class="admonition-todo admonition" id="index-10">
<p class="first admonition-title">Todo</p>
<p>Add headers.</p>
<div class="last highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="n">res</span><span class="o">.</span><span class="n">headers</span><span class="p">[</span><span class="s1">&#39;Content-Type&#39;</span><span class="p">]:</span>
     <span class="k">pass</span>
</pre></div>
</div>
</div>
<p>Well here’s part of one of your todos. <code class="xref py py-mod docutils literal notranslate"><span class="pre">youtube_dl</span></code> has these
defined in their utils</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">std_headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;User-Agent&#39;</span><span class="p">:</span> <span class="s1">&#39;Mozilla/5.0 (X11; Linux x86_64; rv:59.0) Gecko/20100101 Firefox/59.0&#39;</span><span class="p">,</span>
    <span class="s1">&#39;Accept-Charset&#39;</span><span class="p">:</span> <span class="s1">&#39;ISO-8859-1,utf-8;q=0.7,*;q=0.7&#39;</span><span class="p">,</span>
    <span class="s1">&#39;Accept&#39;</span><span class="p">:</span> <span class="s1">&#39;text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8&#39;</span><span class="p">,</span>
    <span class="s1">&#39;Accept-Encoding&#39;</span><span class="p">:</span> <span class="s1">&#39;gzip, deflate&#39;</span><span class="p">,</span>
    <span class="s1">&#39;Accept-Language&#39;</span><span class="p">:</span> <span class="s1">&#39;en-us,en;q=0.5&#39;</span><span class="p">,</span>
<span class="p">}</span>

<span class="n">USER_AGENTS</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;Safari&#39;</span><span class="p">:</span> <span class="s1">&#39;Mozilla/5.0 (X11; Linux x86_64; rv:10.0) AppleWebKit/533.20.25 (KHTML, like Gecko) Version/5.0.4 Safari/533.20.27&#39;</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="admonition-todo admonition" id="index-11">
<p class="first admonition-title">Todo</p>
<p class="last">Could add in a check. if the file is over a certain size use <code class="xref py py-func docutils literal notranslate"><span class="pre">requests.res.iter_chunk()</span></code></p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>url</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – A url to download</li>
<li><strong>output_fname</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – A path to write the downloaded content to.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
</div>
<div class="section" id="module-pyutil.linktree">
<span id="linktree"></span><h2><a class="toc-backref" href="#id27"><code class="xref py py-mod docutils literal notranslate"><span class="pre">linktree</span></code></a><a class="headerlink" href="#module-pyutil.linktree" title="Permalink to this headline">¶</a></h2>
<p>From the package “python3.6-examples” in the Ubuntu repositories.</p>
<p>Minor modifications for <code class="xref py py-mod docutils literal notranslate"><span class="pre">flake8</span></code>, <code class="xref py py-mod docutils literal notranslate"><span class="pre">pydocstyle</span></code> etc.</p>
<p>Mar 10, 2019:</p>
<blockquote>
<div>Added logging.</div></blockquote>
<p>Make a copy of a directory tree with symbolic links to all files in the
original tree.</p>
<p>All symbolic links go to a special symbolic link at the top, so you
can easily fix things if the original source tree moves.</p>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><code class="xref py py-mod docutils literal notranslate"><span class="pre">mkreal</span></code></p>
</div>
<dl class="function">
<dt id="pyutil.linktree.linknames">
<code class="descclassname">pyutil.linktree.</code><code class="descname">linknames</code><span class="sig-paren">(</span><em>old</em>, <em>new</em>, <em>link</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyutil/linktree.html#linknames"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyutil.linktree.linknames" title="Permalink to this definition">¶</a></dt>
<dd><p>Recursively symlink a directory tree.</p>
</dd></dl>

<dl class="function">
<dt id="pyutil.linktree.main">
<code class="descclassname">pyutil.linktree.</code><code class="descname">main</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyutil/linktree.html#main"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyutil.linktree.main" title="Permalink to this definition">¶</a></dt>
<dd><p>Handle user inputs and initialize arguments.</p>
</dd></dl>

</div>
<div class="section" id="module-pyutil.magic_aid">
<span id="magic-aid"></span><h2><a class="toc-backref" href="#id28"><code class="xref py py-mod docutils literal notranslate"><span class="pre">magic_aid</span></code></a><a class="headerlink" href="#module-pyutil.magic_aid" title="Permalink to this headline">¶</a></h2>
<p>Create a script for searching through aliases.</p>
<div class="section" id="ipython-aliases">
<h3><a class="toc-backref" href="#id29">IPython Aliases</a><a class="headerlink" href="#ipython-aliases" title="Permalink to this headline">¶</a></h3>
<p>By invoking <code class="docutils literal notranslate"><span class="pre">%rehashx</span></code> on <a class="reference external" href="https://ipython.readthedocs.io/en/stable/api/generated/IPython.html#module-IPython" title="(in IPython v7.3.0)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">IPython</span></code></a>’s startup, there are
regularly more than 1000 aliases in the namespace.</p>
<p>This makes basic lookups slightly more involved.</p>
<p>As I’ve ran this script twice in the last 2 days I figured time to save it.</p>
<dl class="function">
<dt id="pyutil.magic_aid.inspector">
<code class="descclassname">pyutil.magic_aid.</code><code class="descname">inspector</code><span class="sig-paren">(</span><em>char</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyutil/magic_aid.html#inspector"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyutil.magic_aid.inspector" title="Permalink to this definition">¶</a></dt>
<dd><p>Do a simple search for aliased names in <a class="reference external" href="https://ipython.readthedocs.io/en/stable/api/generated/IPython.html#module-IPython" title="(in IPython v7.3.0)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">IPython</span></code></a>.</p>
<p>This function independently initializes IPython so that it can be
easily imported and run.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>char</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – Character to search through available magics for.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><strong>results</strong> – All matching magics</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">list of strs</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
</div>
<div class="section" id="module-pyutil.mv_to_repo">
<span id="mv-to-repo"></span><h2><a class="toc-backref" href="#id30"><code class="xref py py-mod docutils literal notranslate"><span class="pre">mv_to_repo</span></code></a><a class="headerlink" href="#module-pyutil.mv_to_repo" title="Permalink to this headline">¶</a></h2>
<p>Move files from the home directory to the dotfiles repo.</p>
<span class="target" id="module-`mv_to_repo`"></span><p>This is a script I’ve been using for the better part of a year, so while
the docstring formatting isn’t consistent and there are a couple odd
sections, this script has served a very utilitiarian purpose.</p>
<p>May refactor one day. But it continues to work.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This module assumes a python interpreter above version 3.4.</p>
</div>
<dl class="function">
<dt id="pyutil.mv_to_repo.backup_file">
<code class="descclassname">pyutil.mv_to_repo.</code><code class="descname">backup_file</code><span class="sig-paren">(</span><em>src</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyutil/mv_to_repo.html#backup_file"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyutil.mv_to_repo.backup_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Backs up file src. Utilizes <a class="reference external" href="https://docs.python.org/3/library/shutil.html#shutil.copy2" title="(in Python v3.7)"><code class="xref py py-func docutils literal notranslate"><span class="pre">shutil.copy2()</span></code></a>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>src</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – File to backup</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="pyutil.mv_to_repo.main">
<code class="descclassname">pyutil.mv_to_repo.</code><code class="descname">main</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyutil/mv_to_repo.html#main"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyutil.mv_to_repo.main" title="Permalink to this definition">¶</a></dt>
<dd><p>Dispatch the remaining implementation of the module.</p>
<p>Determine if a file name is in the current directory or absolute path.</p>
<p>Then set up a relative path from <code class="docutils literal notranslate"><span class="pre">$HOME</span></code>. Use the root of the repo
as the new root and move the file there, all while creating
directories and backups.</p>
<p>Runs checks, calls func to backup file <code class="xref py py-obj docutils literal notranslate"><span class="pre">src</span></code>, moves it to the dotfiles
repo and symlinks it.</p>
<p>Moves file to a hardcoded path but will be generalized to take as an
argument.</p>
</dd></dl>

<dl class="function">
<dt id="pyutil.mv_to_repo.repo_dir_check">
<code class="descclassname">pyutil.mv_to_repo.</code><code class="descname">repo_dir_check</code><span class="sig-paren">(</span><em>dest</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyutil/mv_to_repo.html#repo_dir_check"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyutil.mv_to_repo.repo_dir_check" title="Permalink to this definition">¶</a></dt>
<dd><p>Check that the directory is in the repository and make one otherwise.</p>
<p><a class="reference external" href="https://docs.python.org/3/library/pathlib.html#pathlib.Path.mkdir">Useful info about mkdir</a>:</p>
<blockquote>
<div>To mimic behavior of <code class="docutils literal notranslate"><span class="pre">mkdir</span> <span class="pre">-p</span></code>, use flags <code class="docutils literal notranslate"><span class="pre">parents=True</span></code> and
<code class="docutils literal notranslate"><span class="pre">exists_ok=True</span></code></div></blockquote>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>dest</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – Checks that the file to move has a corresponding directory in the repo</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="module-pyutil.nvim_profiling">
<span id="nvim-profiling"></span><h2><a class="toc-backref" href="#id31"><code class="xref py py-mod docutils literal notranslate"><span class="pre">nvim_profiling</span></code></a><a class="headerlink" href="#module-pyutil.nvim_profiling" title="Permalink to this headline">¶</a></h2>
<p>Automate profiling nvim.</p>
<p>This module currently assumes a lot but there could and should be a lot of
ways to do this.</p>
<p>However we haven’t implemented the important part nor have we began
utilizing <a class="reference external" href="https://docs.python.org/3/library/argparse.html#module-argparse" title="(in Python v3.7)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">argparse</span></code></a>.</p>
<p>Then as we keep going we can import <code class="xref py py-mod docutils literal notranslate"><span class="pre">pynvim</span></code>, <code class="xref py py-func docutils literal notranslate"><span class="pre">pynvim.attach()</span></code>
and possibly run this inside of nvim?.</p>
<p>Actually that might be where we want to start.</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;NVIM_LISTEN_ADDRESS&#39;</span><span class="p">):</span>  <span class="c1"># we have no running nvim</span>
    <span class="n">subprocess</span><span class="o">.</span><span class="n">run</span><span class="p">([</span><span class="s1">&#39;nvim&amp;&#39;</span><span class="p">])</span>  <span class="c1"># are we allowed to do this?</span>

<span class="kn">import</span> <span class="nn">pynvim</span>
<span class="n">vim</span> <span class="o">=</span> <span class="n">pynvim</span><span class="o">.</span><span class="n">attach</span><span class="p">(</span><span class="s1">&#39;socket&#39;</span><span class="p">,</span> <span class="n">path</span><span class="o">=</span><span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;NVIM_LISTEN_ADDRESS&#39;</span><span class="p">))</span>
<span class="n">vim</span><span class="o">.</span><span class="n">command</span><span class="p">(</span><span class="s1">&#39;edit $MYVIMRC&#39;</span><span class="p">)</span>
<span class="n">vim_root</span> <span class="o">=</span> <span class="n">vim</span><span class="o">.</span><span class="n">current</span><span class="o">.</span><span class="n">buffer</span>
</pre></div>
</div>
<p>Or something to that effect.</p>
<p>Feb 28, 2019
Nice intuition man. Look what I found today.:</p>
<div class="highlight-vim notranslate"><div class="highlight"><pre><span></span>stdpath<span class="p">(</span>{what}<span class="p">)</span>                 *stdpath<span class="p">()</span>* *E6100*
Returns <span class="p">|</span>standard<span class="p">-</span><span class="nb">path</span><span class="p">|</span> locations of various default <span class="k">files</span> and directories.

{what}       Type    Description <span class="p">~</span>
cache        String  Cache <span class="nb">directory</span>. Arbitrary temporary
                     storage <span class="k">for</span> plugins<span class="p">,</span> etc.
config       String  <span class="nb">User</span> configuration <span class="nb">directory</span>. The
                     <span class="p">|</span>init.<span class="k">vim</span><span class="p">|</span> <span class="k">is</span> stored here.
config_dirs  List    Additional configuration directories.
data         String  <span class="nb">User</span> data <span class="nb">directory</span>. The <span class="p">|</span>shada<span class="p">-</span><span class="k">file</span><span class="p">|</span>
                     <span class="k">is</span> stored here.
data_dirs    List    Additional data directories.

Example:
    :echo stdpath<span class="p">(</span><span class="s2">&quot;config&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>Outputs <a class="reference external" href="~/.config/nvim">~/.config/nvim</a>. So that should work.</p>
<dl class="function">
<dt id="pyutil.nvim_profiling.find_init_files">
<code class="descclassname">pyutil.nvim_profiling.</code><code class="descname">find_init_files</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyutil/nvim_profiling.html#find_init_files"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyutil.nvim_profiling.find_init_files" title="Permalink to this definition">¶</a></dt>
<dd><p>Discover the initialization files used for nvim.</p>
<p>Should theoretically work on both Windows and Unix systems.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><ul class="simple">
<li><strong>nvim_root</strong> (<em>path-like object</em>) – The directory where nvim’s configuration files are found.</li>
<li><em>.. todo::</em> – Alright so if <code class="docutils literal notranslate"><span class="pre">XDG_CONFIG_HOME</span></code> isn’t set we need
to check ~/.config/nvim and check whether we’re on windows or not</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="pyutil.nvim_profiling.main">
<code class="descclassname">pyutil.nvim_profiling.</code><code class="descname">main</code><span class="sig-paren">(</span><em>nvim_root</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyutil/nvim_profiling.html#main"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyutil.nvim_profiling.main" title="Permalink to this definition">¶</a></dt>
<dd><p>Profile nvim.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>nvim_root</strong> (<em>path-like object</em>) – The directory where nvim’s configuration files are found.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><strong>profiling_log_file</strong> – Creates file based on the current time in ISO format profiling nvim.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">file</td>
</tr>
</tbody>
</table>
<div class="admonition-todo admonition" id="index-12">
<p class="first admonition-title">Todo</p>
<p class="last">Allow the <code class="docutils literal notranslate"><span class="pre">test.py</span></code> file that we use for startup to be configured.</p>
</div>
</dd></dl>

<dl class="function">
<dt id="pyutil.nvim_profiling.output_results">
<code class="descclassname">pyutil.nvim_profiling.</code><code class="descname">output_results</code><span class="sig-paren">(</span><em>output_dir</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyutil/nvim_profiling.html#output_results"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyutil.nvim_profiling.output_results" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks that an directory named profiling exists.</p>
</dd></dl>

</div>
<div class="section" id="module-pyutil.ptags">
<span id="ptags"></span><h2><a class="toc-backref" href="#id32"><code class="xref py py-mod docutils literal notranslate"><span class="pre">ptags</span></code></a><a class="headerlink" href="#module-pyutil.ptags" title="Permalink to this headline">¶</a></h2>
<p>Create a tags file for Python programs, usable with vi.</p>
<p>Currently uses a regex to create a tags file.</p>
<div class="section" id="files-to-tag">
<h3><a class="toc-backref" href="#id33">Files to tag</a><a class="headerlink" href="#files-to-tag" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>functions (even inside other defs or classes)</li>
<li>classes</li>
<li>filenames</li>
</ul>
<p>Warns about files it cannot open.</p>
<p>No warnings about duplicate tags.</p>
<p>Snagged from the scripts dir in python3.6-examples.</p>
<div class="admonition-todo admonition" id="index-13">
<p class="first admonition-title">Todo</p>
<p class="last">Use ipdb and step through while watching the tags var.</p>
</div>
<p>Otherwise add in <a class="reference external" href="https://www.python.org/dev/peps/pep-0257">PEP 257</a> compliant params.
Try different styles and see what you like.</p>
<dl class="function">
<dt id="pyutil.ptags.main">
<code class="descclassname">pyutil.ptags.</code><code class="descname">main</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyutil/ptags.html#main"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyutil.ptags.main" title="Permalink to this definition">¶</a></dt>
<dd><p>Handle CLAs and work with writing the tags file.</p>
</dd></dl>

<dl class="function">
<dt id="pyutil.ptags.treat_file">
<code class="descclassname">pyutil.ptags.</code><code class="descname">treat_file</code><span class="sig-paren">(</span><em>filename</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyutil/ptags.html#treat_file"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyutil.ptags.treat_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Find usable matches for tags file.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>filename</strong> (<em>path-like object</em>) – File to generate tags from.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><strong>None</strong></td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.7)">None</a></td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
</div>
<div class="section" id="module-pyutil.rclone">
<span id="rclone"></span><h2><a class="toc-backref" href="#id34"><code class="xref py py-mod docutils literal notranslate"><span class="pre">rclone</span></code></a><a class="headerlink" href="#module-pyutil.rclone" title="Permalink to this headline">¶</a></h2>
<p>Rewriting rclone.sh as a python module.</p>
<p class="rubric">Requires</p>
<p><a class="reference external" href="https://rclone.org">rclone</a>, a Golang package.</p>
<div class="admonition-todo admonition" id="index-14">
<p class="first admonition-title">Todo</p>
<ul class="last simple">
<li>Set up a simple single use case backup.</li>
<li>Add <code class="xref py py-func docutils literal notranslate"><span class="pre">collections.ChainMap()</span></code> to set precedence of backupdir.</li>
<li>Expand <a class="reference external" href="https://docs.python.org/3/library/argparse.html#module-argparse" title="(in Python v3.7)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">argparse</span></code></a> usage with <code class="xref py py-func docutils literal notranslate"><span class="pre">argparse.fromfile_prefix_chars()</span></code> to emulate rsync’s file input.</li>
<li>How do you correctly use <a class="reference external" href="https://docs.python.org/3/library/argparse.html#module-argparse" title="(in Python v3.7)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">argparse</span></code></a> and <code class="docutils literal notranslate"><span class="pre">**kwargs</span></code> together?</li>
</ul>
</div>
<dl class="function">
<dt id="pyutil.rclone._dir_checker">
<code class="descclassname">pyutil.rclone.</code><code class="descname">_dir_checker</code><span class="sig-paren">(</span><em>dir_</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyutil/rclone.html#_dir_checker"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyutil.rclone._dir_checker" title="Permalink to this definition">¶</a></dt>
<dd><p>Check that necessary directories exist.</p>
<p>If the default <code class="xref py py-obj docutils literal notranslate"><span class="pre">dst</span></code> doesn’t exist, definitely create it.
If the user provided <code class="xref py py-obj docutils literal notranslate"><span class="pre">src</span></code> doesn’t exist, crash without making one.</p>
<p>It’s more likely that they typed the src dir incorrectly rather than
running the script aware of the fact that it is nonexistent.</p>
</dd></dl>

<dl class="function">
<dt id="pyutil.rclone._parse_arguments">
<code class="descclassname">pyutil.rclone.</code><code class="descname">_parse_arguments</code><span class="sig-paren">(</span><em>cwd=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyutil/rclone.html#_parse_arguments"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyutil.rclone._parse_arguments" title="Permalink to this definition">¶</a></dt>
<dd><p>Parse user-given arguments.</p>
</dd></dl>

<dl class="function">
<dt id="pyutil.rclone.rclone_base_case">
<code class="descclassname">pyutil.rclone.</code><code class="descname">rclone_base_case</code><span class="sig-paren">(</span><em>src</em>, <em>dst</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyutil/rclone.html#rclone_base_case"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyutil.rclone.rclone_base_case" title="Permalink to this definition">¶</a></dt>
<dd><p>Base case that all other functions build off of.</p>
<p>This function shouldn’t be executed directly; however, it serves as a good
template detailing a function and useful command with parameters that
rclone uses.</p>
<p>For example, <code class="docutils literal notranslate"><span class="pre">--follow</span></code> is a flag that has conditionals associated it with it.</p>
<p>There are situations in which one wants to follow symlinks and others
that they don’t.</p>
<p>This command assumes a use case and configures it rclone for it properly.</p>
<div class="admonition-todo admonition" id="index-15">
<p class="first admonition-title">Todo</p>
<p class="last">rclone takes an argument for user-agent</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>src</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – directory to clone files from</li>
<li><strong>dst</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – destination to send files to. Can be configured as a local directory,
a dropbox directory, a google drive folder or a google cloud storage
bucket among many other things.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="pyutil.rclone.rclone_follow">
<code class="descclassname">pyutil.rclone.</code><code class="descname">rclone_follow</code><span class="sig-paren">(</span><em>dst</em>, <em>src</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyutil/rclone.html#rclone_follow"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyutil.rclone.rclone_follow" title="Permalink to this definition">¶</a></dt>
<dd><p>Follow symlinks.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>src</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – directory to clone files from</li>
<li><strong>dst</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – destination to send files to. Can be configured as a local directory,
a dropbox directory, a google drive folder or a google cloud storage
bucket among many other things.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="pyutil.rclone.run">
<code class="descclassname">pyutil.rclone.</code><code class="descname">run</code><span class="sig-paren">(</span><em>cmd</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyutil/rclone.html#run"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyutil.rclone.run" title="Permalink to this definition">¶</a></dt>
<dd><p>Execute the required command in a subshell.</p>
<p>First the command is splited used typical shell grammer.</p>
<p>A new process is created, and from the resulting subprocess object,
the <code class="xref py py-func docutils literal notranslate"><span class="pre">subprocess.Popen().wait()</span></code>.</p>
<p>This function returns the return code of split <code class="docutils literal notranslate"><span class="pre">cmd</span></code>, so any
non-zero value will lead to a <code class="docutils literal notranslate"><span class="pre">SystemExit</span></code> with a passed value
of <code class="docutils literal notranslate"><span class="pre">returncode</span></code>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>cmd</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – The command to be called</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><strong>process.returncode</strong> – The returncode from the process.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)">int</a></td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="module-pyutil.strip_space">
<span id="strip-space"></span><h2><a class="toc-backref" href="#id35"><code class="xref py py-mod docutils literal notranslate"><span class="pre">strip_space</span></code></a><a class="headerlink" href="#module-pyutil.strip_space" title="Permalink to this headline">¶</a></h2>
<p>Strip only trailing whitespace from a file.</p>
<p>Leading whitespace is significant in Python so don’t touch it.</p>
<div class="section" id="python-requirement">
<h3><a class="toc-backref" href="#id36">Python Requirement</a><a class="headerlink" href="#python-requirement" title="Permalink to this headline">¶</a></h3>
<p>&lt;Python 3.4</p>
</div>
<div class="section" id="still-need-to-implement">
<h3><a class="toc-backref" href="#id37">Still need to implement</a><a class="headerlink" href="#still-need-to-implement" title="Permalink to this headline">¶</a></h3>
<p>Give some kind of undo option.
Needs more file checks.</p>
<dl class="function">
<dt id="pyutil.strip_space.backup">
<code class="descclassname">pyutil.strip_space.</code><code class="descname">backup</code><span class="sig-paren">(</span><em>src</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyutil/strip_space.html#backup"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyutil.strip_space.backup" title="Permalink to this definition">¶</a></dt>
<dd><p>Backs up a file before doing anything.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>src</strong> (<em>file</em>) – File to strip trailing whitespace from. Backed up before anything.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="pyutil.strip_space.main">
<code class="descclassname">pyutil.strip_space.</code><code class="descname">main</code><span class="sig-paren">(</span><em>file_obj</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyutil/strip_space.html#main"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyutil.strip_space.main" title="Permalink to this definition">¶</a></dt>
<dd><p>Dispatch the strip_space function.</p>
</dd></dl>

<dl class="function">
<dt id="pyutil.strip_space.strip_space">
<code class="descclassname">pyutil.strip_space.</code><code class="descname">strip_space</code><span class="sig-paren">(</span><em>src=&lt;_io.TextIOWrapper name='&lt;stdin&gt;' mode='r' encoding='utf-8'&gt;</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyutil/strip_space.html#strip_space"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyutil.strip_space.strip_space" title="Permalink to this definition">¶</a></dt>
<dd><p>Strip all trailing whitespace out of a file.</p>
<p>Assumes a plaintext file. Uses sys.stdin if no argument provided.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>src</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – File to strip trailing whitespace from. Backed up before anything.</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
</div>
<div class="section" id="module-pyutil.sys_checks">
<span id="sys-checks"></span><h2><a class="toc-backref" href="#id38"><code class="xref py py-mod docutils literal notranslate"><span class="pre">sys_checks</span></code></a><a class="headerlink" href="#module-pyutil.sys_checks" title="Permalink to this headline">¶</a></h2>
<p>Module to check a user is utilizing the proper version of python.</p>
<p>Even outside of the 2 to 3 incompatibilities, the standard library
introduces new modules often enough that it’s useful to check.</p>
<p>Utilized by importing as so.</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># filename: must_be_three.py</span>
<span class="kn">from</span> <span class="nn">syschecks</span> <span class="k">import</span> <span class="n">py_gt</span>

<span class="n">py_gt</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>python3 must_be_three.py
</pre></div>
</div>
<div class="admonition-todo admonition" id="index-16">
<p class="first admonition-title">Todo</p>
<p class="last">Uh actually execute the above because now I’m interested…</p>
</div>
<p class="rubric">Assumes: All functions are imported as the module will immediately exit if directly executed.</p>
<p>If nothing else this is a lesson in how painful it becomes to maintain
nonsense names.</p>
<dl class="function">
<dt id="pyutil.sys_checks.py_gt_exit">
<code class="descclassname">pyutil.sys_checks.</code><code class="descname">py_gt_exit</code><span class="sig-paren">(</span><em>min_py_version</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyutil/sys_checks.html#py_gt_exit"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyutil.sys_checks.py_gt_exit" title="Permalink to this definition">¶</a></dt>
<dd><p>Check a user’s python version is higher than some floor value.</p>
<p>For example, the <a class="reference external" href="https://docs.python.org/3/library/argparse.html#module-argparse" title="(in Python v3.7)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">argparse</span></code></a> was only introduced in python3.2.</p>
<div class="admonition-todo admonition" id="index-17">
<p class="first admonition-title">Todo</p>
<p class="last">Possibly change API so funcs return a value on success.</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>min_py_version</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a><em> or </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a><em> or </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.7)"><em>tuple</em></a>) – Value that represents the lowest version of python that can be used.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="pyutil.sys_checks.py_gt_raise">
<code class="descclassname">pyutil.sys_checks.</code><code class="descname">py_gt_raise</code><span class="sig-paren">(</span><em>min_py_version</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyutil/sys_checks.html#py_gt_raise"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyutil.sys_checks.py_gt_raise" title="Permalink to this definition">¶</a></dt>
<dd><p>Raise an error if python interpreter is not above a certain version.</p>
</dd></dl>

<dl class="function">
<dt id="pyutil.sys_checks.py_lt_exit">
<code class="descclassname">pyutil.sys_checks.</code><code class="descname">py_lt_exit</code><span class="sig-paren">(</span><em>max_py_version</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyutil/sys_checks.html#py_lt_exit"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyutil.sys_checks.py_lt_exit" title="Permalink to this definition">¶</a></dt>
<dd><p>Check a user’s python version is lower than some ceiling value.</p>
<p>If you’ll crash on python3.4 but work on 3.3, call this func with 3.3.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>max_py_version</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a><em> or </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a><em> or </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.7)"><em>tuple</em></a>) – The highest version of python that can be used</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="module-pyutil.wrap">
<span id="wrap"></span><h2><a class="toc-backref" href="#id39"><code class="xref py py-mod docutils literal notranslate"><span class="pre">wrap</span></code></a><a class="headerlink" href="#module-pyutil.wrap" title="Permalink to this headline">¶</a></h2>
<p>Wrap text similarly to <a class="reference external" href="https://docs.python.org/3/library/textwrap.html#textwrap.dedent" title="(in Python v3.7)"><code class="xref py py-func docutils literal notranslate"><span class="pre">textwrap.dedent()</span></code></a> but with multiple paragraphs.</p>
<p>From <a class="reference external" href="https://ipython.readthedocs.io/en/stable/api/generated/IPython.utils.text.html#module-IPython.utils.text" title="(in IPython v7.3.0)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">IPython.utils.text</span></code></a>.</p>
<p>Possibly going to convert <a class="reference external" href="https://docs.python.org/3/library/sys.html#sys.argv" title="(in Python v3.7)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">sys.argv</span></code></a> to <code class="xref py py-obj docutils literal notranslate"><span class="pre">**kwargs</span></code> for the function.</p>
<p>Allow the user to input any parameters that are accepted by
<code class="xref py py-class docutils literal notranslate"><span class="pre">textwrap.TextWrapper()</span></code></p>
<dl class="function">
<dt id="pyutil.wrap.wrap_paragraphs">
<code class="descclassname">pyutil.wrap.</code><code class="descname">wrap_paragraphs</code><span class="sig-paren">(</span><em>text</em>, <em>ncols=80</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyutil/wrap.html#wrap_paragraphs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyutil.wrap.wrap_paragraphs" title="Permalink to this definition">¶</a></dt>
<dd><p>Wrap multiple paragraphs to fit a specified width.</p>
<p>This is equivalent to <a class="reference external" href="https://docs.python.org/3/library/textwrap.html#textwrap.wrap" title="(in Python v3.7)"><code class="xref py py-func docutils literal notranslate"><span class="pre">textwrap.wrap()</span></code></a>, but with support for multiple
paragraphs, as separated by empty lines.</p>
<p>Considering initializing an instance of <code class="xref py py-class docutils literal notranslate"><span class="pre">textwrap.TextWrapper()</span></code>
for increased configurability.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>text</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – text to wrap using <a class="reference external" href="https://docs.python.org/3/library/re.html#module-re" title="(in Python v3.7)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">re</span></code></a> and <a class="reference external" href="https://docs.python.org/3/library/textwrap.html#textwrap.dedent" title="(in Python v3.7)"><code class="xref py py-func docutils literal notranslate"><span class="pre">textwrap.dedent()</span></code></a></li>
<li><strong>ncols</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – column to wrap text at</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>wrapped_text</strong> – list of complete paragraphs, wrapped to fill <code class="xref py py-obj docutils literal notranslate"><span class="pre">ncols</span></code> columns.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">list of str</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="module-pyutil.yes_no_question">
<span id="yes-no-question"></span><h2><a class="toc-backref" href="#id40"><code class="xref py py-mod docutils literal notranslate"><span class="pre">yes_no_question</span></code></a><a class="headerlink" href="#module-pyutil.yes_no_question" title="Permalink to this headline">¶</a></h2>
<p>Mod that shows an easy, consistent way to handle user input.</p>
<dl class="function">
<dt id="pyutil.yes_no_question.yes_no_question">
<code class="descclassname">pyutil.yes_no_question.</code><code class="descname">yes_no_question</code><span class="sig-paren">(</span><em>question</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyutil/yes_no_question.html#yes_no_question"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyutil.yes_no_question.yes_no_question" title="Permalink to this definition">¶</a></dt>
<dd><p>Continuing prompt the user until valid input is provided.</p>
</dd></dl>

</div>
<div class="section" id="module-pyutil.ytdl">
<span id="ytdl"></span><h2><a class="toc-backref" href="#id41"><code class="xref py py-mod docutils literal notranslate"><span class="pre">ytdl</span></code></a><a class="headerlink" href="#module-pyutil.ytdl" title="Permalink to this headline">¶</a></h2>
<p>Download a video from YouTube using :mod;`youtube_dl`.</p>
<p>Dec 22, 2018:</p>
<blockquote>
<div><div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">If you initialize with no args, then use <code class="xref py py-meth docutils literal notranslate"><span class="pre">extract_info()</span></code> with
the URL as an arg, you get to see everything you’d need to know
about the metadata in all the varying formats you’d want use.</p>
</div>
</div></blockquote>
<p>This script should be called from the shell as so</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>python termux-urls.py <span class="nv">$@</span>
</pre></div>
</div>
<div class="admonition-todo admonition" id="index-18">
<p class="first admonition-title">Todo</p>
<ol class="last arabic simple">
<li>Assume that the <code class="xref py py-mod docutils literal notranslate"><span class="pre">youtube_dl</span></code> script functions.</li>
<li>Then double chsck we weren’t given a file ytdl knows how to handle.</li>
<li><dl class="first docutils">
<dt>If we were, then scrape with bs4.</dt>
<dd><ul class="first last">
<li>Possibly extend to writing prettified json (as in json.dumps(“”,tab=4)) to a file.</li>
</ul>
</dd>
</dl>
</li>
<li>Need to add support with argparse because this is gonna get out of hand quickly.</li>
<li>Handle playlists.</li>
</ol>
</div>
<div class="section" id="we-got-it">
<h3><a class="toc-backref" href="#id42">We got it!</a><a class="headerlink" href="#we-got-it" title="Permalink to this headline">¶</a></h3>
<p>So I was reading the src and realized that almost all of the execution
happens in the <a href="#id3"><span class="problematic" id="id4">`__init__`__</span></a> file!!</p>
<p>This is a long copy and paste but read this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="ch">#!/usr/bin/env python</span>
<span class="c1"># coding: utf-8</span>

<span class="kn">from</span> <span class="nn">__future__</span> <span class="k">import</span> <span class="n">unicode_literals</span>

<span class="n">__license__</span> <span class="o">=</span> <span class="s1">&#39;Public Domain&#39;</span>

<span class="kn">import</span> <span class="nn">codecs</span>
<span class="kn">import</span> <span class="nn">io</span>
<span class="kn">import</span> <span class="nn">os</span>
<span class="kn">import</span> <span class="nn">random</span>
<span class="kn">import</span> <span class="nn">sys</span>


<span class="kn">from</span> <span class="nn">youtube_dl.options</span> <span class="k">import</span> <span class="p">(</span>
    <span class="n">parseOpts</span><span class="p">,</span>
<span class="p">)</span>
<span class="kn">from</span> <span class="nn">youtube_dl.compat</span> <span class="k">import</span> <span class="p">(</span>
    <span class="n">compat_getpass</span><span class="p">,</span>
    <span class="n">compat_shlex_split</span><span class="p">,</span>
    <span class="n">workaround_optparse_bug9161</span><span class="p">,</span>
<span class="p">)</span>
<span class="kn">from</span> <span class="nn">youtube_dl.utils</span> <span class="k">import</span> <span class="p">(</span>
    <span class="n">DateRange</span><span class="p">,</span>
    <span class="n">decodeOption</span><span class="p">,</span>
    <span class="n">DEFAULT_OUTTMPL</span><span class="p">,</span>
    <span class="n">DownloadError</span><span class="p">,</span>
    <span class="n">expand_path</span><span class="p">,</span>
    <span class="n">match_filter_func</span><span class="p">,</span>
    <span class="n">MaxDownloadsReached</span><span class="p">,</span>
    <span class="n">preferredencoding</span><span class="p">,</span>
    <span class="n">read_batch_urls</span><span class="p">,</span>
    <span class="n">SameFileError</span><span class="p">,</span>
    <span class="n">setproctitle</span><span class="p">,</span>
    <span class="n">std_headers</span><span class="p">,</span>
    <span class="n">write_string</span><span class="p">,</span>
    <span class="n">render_table</span><span class="p">,</span>
<span class="p">)</span>
<span class="kn">from</span> <span class="nn">youtube_dl.update</span> <span class="k">import</span> <span class="n">update_self</span>
<span class="kn">from</span> <span class="nn">youtube_dl.downloader</span> <span class="k">import</span> <span class="p">(</span>
    <span class="n">FileDownloader</span><span class="p">,</span>
<span class="p">)</span>
<span class="kn">from</span> <span class="nn">youtube_dl.extractor</span> <span class="k">import</span> <span class="n">gen_extractors</span><span class="p">,</span> <span class="n">list_extractors</span>
<span class="kn">from</span> <span class="nn">youtube_dl.extractor.adobepass</span> <span class="k">import</span> <span class="n">MSO_INFO</span>
<span class="kn">from</span> <span class="nn">youtube_dl.YoutubeDL</span> <span class="k">import</span> <span class="n">YoutubeDL</span>


<span class="k">def</span> <span class="nf">_real_main</span><span class="p">(</span><span class="n">argv</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
    <span class="c1"># Compatibility fixes for Windows</span>
    <span class="k">if</span> <span class="n">sys</span><span class="o">.</span><span class="n">platform</span> <span class="o">==</span> <span class="s1">&#39;win32&#39;</span><span class="p">:</span>
        <span class="c1"># https://github.com/rg3/youtube-dl/issues/820</span>
        <span class="n">codecs</span><span class="o">.</span><span class="n">register</span><span class="p">(</span><span class="k">lambda</span> <span class="n">name</span><span class="p">:</span> <span class="n">codecs</span><span class="o">.</span><span class="n">lookup</span><span class="p">(</span><span class="s1">&#39;utf-8&#39;</span><span class="p">)</span> <span class="k">if</span> <span class="n">name</span> <span class="o">==</span> <span class="s1">&#39;cp65001&#39;</span> <span class="k">else</span> <span class="kc">None</span><span class="p">)</span>

    <span class="n">workaround_optparse_bug9161</span><span class="p">()</span>

    <span class="n">setproctitle</span><span class="p">(</span><span class="s1">&#39;youtube-dl&#39;</span><span class="p">)</span>

    <span class="n">parser</span><span class="p">,</span> <span class="n">opts</span><span class="p">,</span> <span class="n">args</span> <span class="o">=</span> <span class="n">parseOpts</span><span class="p">(</span><span class="n">argv</span><span class="p">)</span>

    <span class="c1"># Set user agent</span>
    <span class="k">if</span> <span class="n">opts</span><span class="o">.</span><span class="n">user_agent</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">std_headers</span><span class="p">[</span><span class="s1">&#39;User-Agent&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">opts</span><span class="o">.</span><span class="n">user_agent</span>

    <span class="c1"># Set referer</span>
    <span class="k">if</span> <span class="n">opts</span><span class="o">.</span><span class="n">referer</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">std_headers</span><span class="p">[</span><span class="s1">&#39;Referer&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">opts</span><span class="o">.</span><span class="n">referer</span>

    <span class="c1"># Custom HTTP headers</span>
    <span class="k">if</span> <span class="n">opts</span><span class="o">.</span><span class="n">headers</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">h</span> <span class="ow">in</span> <span class="n">opts</span><span class="o">.</span><span class="n">headers</span><span class="p">:</span>
            <span class="k">if</span> <span class="s1">&#39;:&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">h</span><span class="p">:</span>
                <span class="n">parser</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s1">&#39;wrong header formatting, it should be key:value, not &quot;</span><span class="si">%s</span><span class="s1">&quot;&#39;</span> <span class="o">%</span> <span class="n">h</span><span class="p">)</span>
            <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="o">=</span> <span class="n">h</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;:&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">opts</span><span class="o">.</span><span class="n">verbose</span><span class="p">:</span>
                <span class="n">write_string</span><span class="p">(</span><span class="s1">&#39;[debug] Adding header from command line option </span><span class="si">%s</span><span class="s1">:</span><span class="si">%s</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">))</span>
            <span class="n">std_headers</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span>

    <span class="c1"># Dump user agent</span>
    <span class="k">if</span> <span class="n">opts</span><span class="o">.</span><span class="n">dump_user_agent</span><span class="p">:</span>
        <span class="n">write_string</span><span class="p">(</span><span class="n">std_headers</span><span class="p">[</span><span class="s1">&#39;User-Agent&#39;</span><span class="p">]</span> <span class="o">+</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">,</span> <span class="n">out</span><span class="o">=</span><span class="n">sys</span><span class="o">.</span><span class="n">stdout</span><span class="p">)</span>
        <span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>

    <span class="c1"># Batch file verification</span>
    <span class="n">batch_urls</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">if</span> <span class="n">opts</span><span class="o">.</span><span class="n">batchfile</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">opts</span><span class="o">.</span><span class="n">batchfile</span> <span class="o">==</span> <span class="s1">&#39;-&#39;</span><span class="p">:</span>
                <span class="n">batchfd</span> <span class="o">=</span> <span class="n">sys</span><span class="o">.</span><span class="n">stdin</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">batchfd</span> <span class="o">=</span> <span class="n">io</span><span class="o">.</span><span class="n">open</span><span class="p">(</span>
                    <span class="n">expand_path</span><span class="p">(</span><span class="n">opts</span><span class="o">.</span><span class="n">batchfile</span><span class="p">),</span>
                    <span class="s1">&#39;r&#39;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s1">&#39;utf-8&#39;</span><span class="p">,</span> <span class="n">errors</span><span class="o">=</span><span class="s1">&#39;ignore&#39;</span><span class="p">)</span>
            <span class="n">batch_urls</span> <span class="o">=</span> <span class="n">read_batch_urls</span><span class="p">(</span><span class="n">batchfd</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">opts</span><span class="o">.</span><span class="n">verbose</span><span class="p">:</span>
                <span class="n">write_string</span><span class="p">(</span><span class="s1">&#39;[debug] Batch file urls: &#39;</span> <span class="o">+</span> <span class="nb">repr</span><span class="p">(</span><span class="n">batch_urls</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">IOError</span><span class="p">:</span>
            <span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">(</span><span class="s1">&#39;ERROR: batch file could not be read&#39;</span><span class="p">)</span>
    <span class="n">all_urls</span> <span class="o">=</span> <span class="n">batch_urls</span> <span class="o">+</span> <span class="p">[</span><span class="n">url</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span> <span class="k">for</span> <span class="n">url</span> <span class="ow">in</span> <span class="n">args</span><span class="p">]</span>  <span class="c1"># batch_urls are already striped in read_batch_urls</span>
    <span class="n">_enc</span> <span class="o">=</span> <span class="n">preferredencoding</span><span class="p">()</span>
    <span class="n">all_urls</span> <span class="o">=</span> <span class="p">[</span><span class="n">url</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="n">_enc</span><span class="p">,</span> <span class="s1">&#39;ignore&#39;</span><span class="p">)</span> <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="nb">bytes</span><span class="p">)</span> <span class="k">else</span> <span class="n">url</span> <span class="k">for</span> <span class="n">url</span> <span class="ow">in</span> <span class="n">all_urls</span><span class="p">]</span>

    <span class="k">if</span> <span class="n">opts</span><span class="o">.</span><span class="n">list_extractors</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">ie</span> <span class="ow">in</span> <span class="n">list_extractors</span><span class="p">(</span><span class="n">opts</span><span class="o">.</span><span class="n">age_limit</span><span class="p">):</span>
            <span class="n">write_string</span><span class="p">(</span><span class="n">ie</span><span class="o">.</span><span class="n">IE_NAME</span> <span class="o">+</span> <span class="p">(</span><span class="s1">&#39; (CURRENTLY BROKEN)&#39;</span> <span class="k">if</span> <span class="ow">not</span> <span class="n">ie</span><span class="o">.</span><span class="n">_WORKING</span> <span class="k">else</span> <span class="s1">&#39;&#39;</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">,</span> <span class="n">out</span><span class="o">=</span><span class="n">sys</span><span class="o">.</span><span class="n">stdout</span><span class="p">)</span>
            <span class="n">matchedUrls</span> <span class="o">=</span> <span class="p">[</span><span class="n">url</span> <span class="k">for</span> <span class="n">url</span> <span class="ow">in</span> <span class="n">all_urls</span> <span class="k">if</span> <span class="n">ie</span><span class="o">.</span><span class="n">suitable</span><span class="p">(</span><span class="n">url</span><span class="p">)]</span>
            <span class="k">for</span> <span class="n">mu</span> <span class="ow">in</span> <span class="n">matchedUrls</span><span class="p">:</span>
                <span class="n">write_string</span><span class="p">(</span><span class="s1">&#39;  &#39;</span> <span class="o">+</span> <span class="n">mu</span> <span class="o">+</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">,</span> <span class="n">out</span><span class="o">=</span><span class="n">sys</span><span class="o">.</span><span class="n">stdout</span><span class="p">)</span>
        <span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">opts</span><span class="o">.</span><span class="n">list_extractor_descriptions</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">ie</span> <span class="ow">in</span> <span class="n">list_extractors</span><span class="p">(</span><span class="n">opts</span><span class="o">.</span><span class="n">age_limit</span><span class="p">):</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">ie</span><span class="o">.</span><span class="n">_WORKING</span><span class="p">:</span>
                <span class="k">continue</span>
            <span class="n">desc</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">ie</span><span class="p">,</span> <span class="s1">&#39;IE_DESC&#39;</span><span class="p">,</span> <span class="n">ie</span><span class="o">.</span><span class="n">IE_NAME</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">desc</span> <span class="ow">is</span> <span class="kc">False</span><span class="p">:</span>
                <span class="k">continue</span>
            <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">ie</span><span class="p">,</span> <span class="s1">&#39;SEARCH_KEY&#39;</span><span class="p">):</span>
                <span class="n">_SEARCHES</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;cute kittens&#39;</span><span class="p">,</span> <span class="s1">&#39;slithering pythons&#39;</span><span class="p">,</span> <span class="s1">&#39;falling cat&#39;</span><span class="p">,</span> <span class="s1">&#39;angry poodle&#39;</span><span class="p">,</span> <span class="s1">&#39;purple fish&#39;</span><span class="p">,</span> <span class="s1">&#39;running tortoise&#39;</span><span class="p">,</span> <span class="s1">&#39;sleeping bunny&#39;</span><span class="p">,</span> <span class="s1">&#39;burping cow&#39;</span><span class="p">)</span>
                <span class="n">_COUNTS</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;5&#39;</span><span class="p">,</span> <span class="s1">&#39;10&#39;</span><span class="p">,</span> <span class="s1">&#39;all&#39;</span><span class="p">)</span>
                <span class="n">desc</span> <span class="o">+=</span> <span class="s1">&#39; (Example: &quot;</span><span class="si">%s%s</span><span class="s1">:</span><span class="si">%s</span><span class="s1">&quot; )&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">ie</span><span class="o">.</span><span class="n">SEARCH_KEY</span><span class="p">,</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">_COUNTS</span><span class="p">),</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">_SEARCHES</span><span class="p">))</span>
            <span class="n">write_string</span><span class="p">(</span><span class="n">desc</span> <span class="o">+</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">,</span> <span class="n">out</span><span class="o">=</span><span class="n">sys</span><span class="o">.</span><span class="n">stdout</span><span class="p">)</span>
        <span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">opts</span><span class="o">.</span><span class="n">ap_list_mso</span><span class="p">:</span>
        <span class="n">table</span> <span class="o">=</span> <span class="p">[[</span><span class="n">mso_id</span><span class="p">,</span> <span class="n">mso_info</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">]]</span> <span class="k">for</span> <span class="n">mso_id</span><span class="p">,</span> <span class="n">mso_info</span> <span class="ow">in</span> <span class="n">MSO_INFO</span><span class="o">.</span><span class="n">items</span><span class="p">()]</span>
        <span class="n">write_string</span><span class="p">(</span><span class="s1">&#39;Supported TV Providers:</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">+</span> <span class="n">render_table</span><span class="p">([</span><span class="s1">&#39;mso&#39;</span><span class="p">,</span> <span class="s1">&#39;mso name&#39;</span><span class="p">],</span> <span class="n">table</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">,</span> <span class="n">out</span><span class="o">=</span><span class="n">sys</span><span class="o">.</span><span class="n">stdout</span><span class="p">)</span>
        <span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>

    <span class="c1"># Conflicting, missing and erroneous options</span>
    <span class="k">if</span> <span class="n">opts</span><span class="o">.</span><span class="n">usenetrc</span> <span class="ow">and</span> <span class="p">(</span><span class="n">opts</span><span class="o">.</span><span class="n">username</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">or</span> <span class="n">opts</span><span class="o">.</span><span class="n">password</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">):</span>
        <span class="n">parser</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s1">&#39;using .netrc conflicts with giving username/password&#39;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">opts</span><span class="o">.</span><span class="n">password</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">opts</span><span class="o">.</span><span class="n">username</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">parser</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s1">&#39;account username missing</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">opts</span><span class="o">.</span><span class="n">ap_password</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">opts</span><span class="o">.</span><span class="n">ap_username</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">parser</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s1">&#39;TV Provider account username missing</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">opts</span><span class="o">.</span><span class="n">outtmpl</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="p">(</span><span class="n">opts</span><span class="o">.</span><span class="n">usetitle</span> <span class="ow">or</span> <span class="n">opts</span><span class="o">.</span><span class="n">autonumber</span> <span class="ow">or</span> <span class="n">opts</span><span class="o">.</span><span class="n">useid</span><span class="p">):</span>
        <span class="n">parser</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s1">&#39;using output template conflicts with using title, video ID or auto number&#39;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">opts</span><span class="o">.</span><span class="n">autonumber_size</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">opts</span><span class="o">.</span><span class="n">autonumber_size</span> <span class="o">&lt;=</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">parser</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s1">&#39;auto number size must be positive&#39;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">opts</span><span class="o">.</span><span class="n">autonumber_start</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">opts</span><span class="o">.</span><span class="n">autonumber_start</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">parser</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s1">&#39;auto number start must be positive or 0&#39;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">opts</span><span class="o">.</span><span class="n">usetitle</span> <span class="ow">and</span> <span class="n">opts</span><span class="o">.</span><span class="n">useid</span><span class="p">:</span>
        <span class="n">parser</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s1">&#39;using title conflicts with using video ID&#39;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">opts</span><span class="o">.</span><span class="n">username</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">opts</span><span class="o">.</span><span class="n">password</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">opts</span><span class="o">.</span><span class="n">password</span> <span class="o">=</span> <span class="n">compat_getpass</span><span class="p">(</span><span class="s1">&#39;Type account password and press [Return]: &#39;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">opts</span><span class="o">.</span><span class="n">ap_username</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">opts</span><span class="o">.</span><span class="n">ap_password</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">opts</span><span class="o">.</span><span class="n">ap_password</span> <span class="o">=</span> <span class="n">compat_getpass</span><span class="p">(</span><span class="s1">&#39;Type TV provider account password and press [Return]: &#39;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">opts</span><span class="o">.</span><span class="n">ratelimit</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">numeric_limit</span> <span class="o">=</span> <span class="n">FileDownloader</span><span class="o">.</span><span class="n">parse_bytes</span><span class="p">(</span><span class="n">opts</span><span class="o">.</span><span class="n">ratelimit</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">numeric_limit</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">parser</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s1">&#39;invalid rate limit specified&#39;</span><span class="p">)</span>
        <span class="n">opts</span><span class="o">.</span><span class="n">ratelimit</span> <span class="o">=</span> <span class="n">numeric_limit</span>
    <span class="k">if</span> <span class="n">opts</span><span class="o">.</span><span class="n">min_filesize</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">numeric_limit</span> <span class="o">=</span> <span class="n">FileDownloader</span><span class="o">.</span><span class="n">parse_bytes</span><span class="p">(</span><span class="n">opts</span><span class="o">.</span><span class="n">min_filesize</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">numeric_limit</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">parser</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s1">&#39;invalid min_filesize specified&#39;</span><span class="p">)</span>
        <span class="n">opts</span><span class="o">.</span><span class="n">min_filesize</span> <span class="o">=</span> <span class="n">numeric_limit</span>
    <span class="k">if</span> <span class="n">opts</span><span class="o">.</span><span class="n">max_filesize</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">numeric_limit</span> <span class="o">=</span> <span class="n">FileDownloader</span><span class="o">.</span><span class="n">parse_bytes</span><span class="p">(</span><span class="n">opts</span><span class="o">.</span><span class="n">max_filesize</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">numeric_limit</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">parser</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s1">&#39;invalid max_filesize specified&#39;</span><span class="p">)</span>
        <span class="n">opts</span><span class="o">.</span><span class="n">max_filesize</span> <span class="o">=</span> <span class="n">numeric_limit</span>
    <span class="k">if</span> <span class="n">opts</span><span class="o">.</span><span class="n">sleep_interval</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">opts</span><span class="o">.</span><span class="n">sleep_interval</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">parser</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s1">&#39;sleep interval must be positive or 0&#39;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">opts</span><span class="o">.</span><span class="n">max_sleep_interval</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">opts</span><span class="o">.</span><span class="n">max_sleep_interval</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">parser</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s1">&#39;max sleep interval must be positive or 0&#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">opts</span><span class="o">.</span><span class="n">max_sleep_interval</span> <span class="o">&lt;</span> <span class="n">opts</span><span class="o">.</span><span class="n">sleep_interval</span><span class="p">:</span>
            <span class="n">parser</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s1">&#39;max sleep interval must be greater than or equal to min sleep interval&#39;</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">opts</span><span class="o">.</span><span class="n">max_sleep_interval</span> <span class="o">=</span> <span class="n">opts</span><span class="o">.</span><span class="n">sleep_interval</span>
    <span class="k">if</span> <span class="n">opts</span><span class="o">.</span><span class="n">ap_mso</span> <span class="ow">and</span> <span class="n">opts</span><span class="o">.</span><span class="n">ap_mso</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">MSO_INFO</span><span class="p">:</span>
        <span class="n">parser</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s1">&#39;Unsupported TV Provider, use --ap-list-mso to get a list of supported TV Providers&#39;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">parse_retries</span><span class="p">(</span><span class="n">retries</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">retries</span> <span class="ow">in</span> <span class="p">(</span><span class="s1">&#39;inf&#39;</span><span class="p">,</span> <span class="s1">&#39;infinite&#39;</span><span class="p">):</span>
            <span class="n">parsed_retries</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="s1">&#39;inf&#39;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">parsed_retries</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">retries</span><span class="p">)</span>
            <span class="k">except</span> <span class="p">(</span><span class="ne">TypeError</span><span class="p">,</span> <span class="ne">ValueError</span><span class="p">):</span>
                <span class="n">parser</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s1">&#39;invalid retry count specified&#39;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">parsed_retries</span>
    <span class="k">if</span> <span class="n">opts</span><span class="o">.</span><span class="n">retries</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">opts</span><span class="o">.</span><span class="n">retries</span> <span class="o">=</span> <span class="n">parse_retries</span><span class="p">(</span><span class="n">opts</span><span class="o">.</span><span class="n">retries</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">opts</span><span class="o">.</span><span class="n">fragment_retries</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">opts</span><span class="o">.</span><span class="n">fragment_retries</span> <span class="o">=</span> <span class="n">parse_retries</span><span class="p">(</span><span class="n">opts</span><span class="o">.</span><span class="n">fragment_retries</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">opts</span><span class="o">.</span><span class="n">buffersize</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">numeric_buffersize</span> <span class="o">=</span> <span class="n">FileDownloader</span><span class="o">.</span><span class="n">parse_bytes</span><span class="p">(</span><span class="n">opts</span><span class="o">.</span><span class="n">buffersize</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">numeric_buffersize</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">parser</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s1">&#39;invalid buffer size specified&#39;</span><span class="p">)</span>
        <span class="n">opts</span><span class="o">.</span><span class="n">buffersize</span> <span class="o">=</span> <span class="n">numeric_buffersize</span>
    <span class="k">if</span> <span class="n">opts</span><span class="o">.</span><span class="n">http_chunk_size</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">numeric_chunksize</span> <span class="o">=</span> <span class="n">FileDownloader</span><span class="o">.</span><span class="n">parse_bytes</span><span class="p">(</span><span class="n">opts</span><span class="o">.</span><span class="n">http_chunk_size</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">numeric_chunksize</span><span class="p">:</span>
            <span class="n">parser</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s1">&#39;invalid http chunk size specified&#39;</span><span class="p">)</span>
        <span class="n">opts</span><span class="o">.</span><span class="n">http_chunk_size</span> <span class="o">=</span> <span class="n">numeric_chunksize</span>
    <span class="k">if</span> <span class="n">opts</span><span class="o">.</span><span class="n">playliststart</span> <span class="o">&lt;=</span> <span class="mi">0</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;Playlist start must be positive&#39;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">opts</span><span class="o">.</span><span class="n">playlistend</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span> <span class="ow">and</span> <span class="n">opts</span><span class="o">.</span><span class="n">playlistend</span> <span class="o">&lt;</span> <span class="n">opts</span><span class="o">.</span><span class="n">playliststart</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;Playlist end must be greater than playlist start&#39;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">opts</span><span class="o">.</span><span class="n">extractaudio</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">opts</span><span class="o">.</span><span class="n">audioformat</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;best&#39;</span><span class="p">,</span> <span class="s1">&#39;aac&#39;</span><span class="p">,</span> <span class="s1">&#39;flac&#39;</span><span class="p">,</span> <span class="s1">&#39;mp3&#39;</span><span class="p">,</span> <span class="s1">&#39;m4a&#39;</span><span class="p">,</span> <span class="s1">&#39;opus&#39;</span><span class="p">,</span> <span class="s1">&#39;vorbis&#39;</span><span class="p">,</span> <span class="s1">&#39;wav&#39;</span><span class="p">]:</span>
            <span class="n">parser</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s1">&#39;invalid audio format specified&#39;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">opts</span><span class="o">.</span><span class="n">audioquality</span><span class="p">:</span>
        <span class="n">opts</span><span class="o">.</span><span class="n">audioquality</span> <span class="o">=</span> <span class="n">opts</span><span class="o">.</span><span class="n">audioquality</span><span class="o">.</span><span class="n">strip</span><span class="p">(</span><span class="s1">&#39;k&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">strip</span><span class="p">(</span><span class="s1">&#39;K&#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">opts</span><span class="o">.</span><span class="n">audioquality</span><span class="o">.</span><span class="n">isdigit</span><span class="p">():</span>
            <span class="n">parser</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s1">&#39;invalid audio quality specified&#39;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">opts</span><span class="o">.</span><span class="n">recodevideo</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">opts</span><span class="o">.</span><span class="n">recodevideo</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;mp4&#39;</span><span class="p">,</span> <span class="s1">&#39;flv&#39;</span><span class="p">,</span> <span class="s1">&#39;webm&#39;</span><span class="p">,</span> <span class="s1">&#39;ogg&#39;</span><span class="p">,</span> <span class="s1">&#39;mkv&#39;</span><span class="p">,</span> <span class="s1">&#39;avi&#39;</span><span class="p">]:</span>
            <span class="n">parser</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s1">&#39;invalid video recode format specified&#39;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">opts</span><span class="o">.</span><span class="n">convertsubtitles</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">opts</span><span class="o">.</span><span class="n">convertsubtitles</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;srt&#39;</span><span class="p">,</span> <span class="s1">&#39;vtt&#39;</span><span class="p">,</span> <span class="s1">&#39;ass&#39;</span><span class="p">,</span> <span class="s1">&#39;lrc&#39;</span><span class="p">]:</span>
            <span class="n">parser</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s1">&#39;invalid subtitle format specified&#39;</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">opts</span><span class="o">.</span><span class="n">date</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">date</span> <span class="o">=</span> <span class="n">DateRange</span><span class="o">.</span><span class="n">day</span><span class="p">(</span><span class="n">opts</span><span class="o">.</span><span class="n">date</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">date</span> <span class="o">=</span> <span class="n">DateRange</span><span class="p">(</span><span class="n">opts</span><span class="o">.</span><span class="n">dateafter</span><span class="p">,</span> <span class="n">opts</span><span class="o">.</span><span class="n">datebefore</span><span class="p">)</span>

    <span class="c1"># Do not download videos when there are audio-only formats</span>
    <span class="k">if</span> <span class="n">opts</span><span class="o">.</span><span class="n">extractaudio</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">opts</span><span class="o">.</span><span class="n">keepvideo</span> <span class="ow">and</span> <span class="n">opts</span><span class="o">.</span><span class="n">format</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">opts</span><span class="o">.</span><span class="n">format</span> <span class="o">=</span> <span class="s1">&#39;bestaudio/best&#39;</span>

    <span class="c1"># --all-sub automatically sets --write-sub if --write-auto-sub is not given</span>
    <span class="c1"># this was the old behaviour if only --all-sub was given.</span>
    <span class="k">if</span> <span class="n">opts</span><span class="o">.</span><span class="n">allsubtitles</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">opts</span><span class="o">.</span><span class="n">writeautomaticsub</span><span class="p">:</span>
        <span class="n">opts</span><span class="o">.</span><span class="n">writesubtitles</span> <span class="o">=</span> <span class="kc">True</span>

    <span class="n">outtmpl</span> <span class="o">=</span> <span class="p">((</span><span class="n">opts</span><span class="o">.</span><span class="n">outtmpl</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">opts</span><span class="o">.</span><span class="n">outtmpl</span><span class="p">)</span> <span class="ow">or</span>
               <span class="p">(</span><span class="n">opts</span><span class="o">.</span><span class="n">format</span> <span class="o">==</span> <span class="s1">&#39;-1&#39;</span> <span class="ow">and</span> <span class="n">opts</span><span class="o">.</span><span class="n">usetitle</span> <span class="ow">and</span> <span class="s1">&#39;</span><span class="si">%(title)s</span><span class="s1">-</span><span class="si">%(id)s</span><span class="s1">-</span><span class="si">%(format)s</span><span class="s1">.</span><span class="si">%(ext)s</span><span class="s1">&#39;</span><span class="p">)</span> <span class="ow">or</span>
               <span class="p">(</span><span class="n">opts</span><span class="o">.</span><span class="n">format</span> <span class="o">==</span> <span class="s1">&#39;-1&#39;</span> <span class="ow">and</span> <span class="s1">&#39;</span><span class="si">%(id)s</span><span class="s1">-</span><span class="si">%(format)s</span><span class="s1">.</span><span class="si">%(ext)s</span><span class="s1">&#39;</span><span class="p">)</span> <span class="ow">or</span>
               <span class="p">(</span><span class="n">opts</span><span class="o">.</span><span class="n">usetitle</span> <span class="ow">and</span> <span class="n">opts</span><span class="o">.</span><span class="n">autonumber</span> <span class="ow">and</span> <span class="s1">&#39;</span><span class="si">%(autonumber)s</span><span class="s1">-</span><span class="si">%(title)s</span><span class="s1">-</span><span class="si">%(id)s</span><span class="s1">.</span><span class="si">%(ext)s</span><span class="s1">&#39;</span><span class="p">)</span> <span class="ow">or</span>
               <span class="p">(</span><span class="n">opts</span><span class="o">.</span><span class="n">usetitle</span> <span class="ow">and</span> <span class="s1">&#39;</span><span class="si">%(title)s</span><span class="s1">-</span><span class="si">%(id)s</span><span class="s1">.</span><span class="si">%(ext)s</span><span class="s1">&#39;</span><span class="p">)</span> <span class="ow">or</span>
               <span class="p">(</span><span class="n">opts</span><span class="o">.</span><span class="n">useid</span> <span class="ow">and</span> <span class="s1">&#39;</span><span class="si">%(id)s</span><span class="s1">.</span><span class="si">%(ext)s</span><span class="s1">&#39;</span><span class="p">)</span> <span class="ow">or</span>
               <span class="p">(</span><span class="n">opts</span><span class="o">.</span><span class="n">autonumber</span> <span class="ow">and</span> <span class="s1">&#39;</span><span class="si">%(autonumber)s</span><span class="s1">-</span><span class="si">%(id)s</span><span class="s1">.</span><span class="si">%(ext)s</span><span class="s1">&#39;</span><span class="p">)</span> <span class="ow">or</span>
               <span class="n">DEFAULT_OUTTMPL</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">splitext</span><span class="p">(</span><span class="n">outtmpl</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span> <span class="ow">and</span> <span class="n">opts</span><span class="o">.</span><span class="n">extractaudio</span><span class="p">:</span>
        <span class="n">parser</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s1">&#39;Cannot download a video and extract audio into the same&#39;</span>
                     <span class="s1">&#39; file! Use &quot;</span><span class="si">{0}</span><span class="s1">.</span><span class="si">%(ext)s</span><span class="s1">&quot; instead of &quot;</span><span class="si">{0}</span><span class="s1">&quot; as the output&#39;</span>
                     <span class="s1">&#39; template&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">outtmpl</span><span class="p">))</span>

    <span class="n">any_getting</span> <span class="o">=</span> <span class="n">opts</span><span class="o">.</span><span class="n">geturl</span> <span class="ow">or</span> <span class="n">opts</span><span class="o">.</span><span class="n">gettitle</span> <span class="ow">or</span> <span class="n">opts</span><span class="o">.</span><span class="n">getid</span> <span class="ow">or</span> <span class="n">opts</span><span class="o">.</span><span class="n">getthumbnail</span> <span class="ow">or</span> <span class="n">opts</span><span class="o">.</span><span class="n">getdescription</span> <span class="ow">or</span> <span class="n">opts</span><span class="o">.</span><span class="n">getfilename</span> <span class="ow">or</span> <span class="n">opts</span><span class="o">.</span><span class="n">getformat</span> <span class="ow">or</span> <span class="n">opts</span><span class="o">.</span><span class="n">getduration</span> <span class="ow">or</span> <span class="n">opts</span><span class="o">.</span><span class="n">dumpjson</span> <span class="ow">or</span> <span class="n">opts</span><span class="o">.</span><span class="n">dump_single_json</span>
    <span class="n">any_printing</span> <span class="o">=</span> <span class="n">opts</span><span class="o">.</span><span class="n">print_json</span>
    <span class="n">download_archive_fn</span> <span class="o">=</span> <span class="n">expand_path</span><span class="p">(</span><span class="n">opts</span><span class="o">.</span><span class="n">download_archive</span><span class="p">)</span> <span class="k">if</span> <span class="n">opts</span><span class="o">.</span><span class="n">download_archive</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="n">opts</span><span class="o">.</span><span class="n">download_archive</span>

    <span class="c1"># PostProcessors</span>
    <span class="n">postprocessors</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">if</span> <span class="n">opts</span><span class="o">.</span><span class="n">metafromtitle</span><span class="p">:</span>
        <span class="n">postprocessors</span><span class="o">.</span><span class="n">append</span><span class="p">({</span>
            <span class="s1">&#39;key&#39;</span><span class="p">:</span> <span class="s1">&#39;MetadataFromTitle&#39;</span><span class="p">,</span>
            <span class="s1">&#39;titleformat&#39;</span><span class="p">:</span> <span class="n">opts</span><span class="o">.</span><span class="n">metafromtitle</span>
        <span class="p">})</span>
    <span class="k">if</span> <span class="n">opts</span><span class="o">.</span><span class="n">extractaudio</span><span class="p">:</span>
        <span class="n">postprocessors</span><span class="o">.</span><span class="n">append</span><span class="p">({</span>
            <span class="s1">&#39;key&#39;</span><span class="p">:</span> <span class="s1">&#39;FFmpegExtractAudio&#39;</span><span class="p">,</span>
            <span class="s1">&#39;preferredcodec&#39;</span><span class="p">:</span> <span class="n">opts</span><span class="o">.</span><span class="n">audioformat</span><span class="p">,</span>
            <span class="s1">&#39;preferredquality&#39;</span><span class="p">:</span> <span class="n">opts</span><span class="o">.</span><span class="n">audioquality</span><span class="p">,</span>
            <span class="s1">&#39;nopostoverwrites&#39;</span><span class="p">:</span> <span class="n">opts</span><span class="o">.</span><span class="n">nopostoverwrites</span><span class="p">,</span>
        <span class="p">})</span>
    <span class="k">if</span> <span class="n">opts</span><span class="o">.</span><span class="n">recodevideo</span><span class="p">:</span>
        <span class="n">postprocessors</span><span class="o">.</span><span class="n">append</span><span class="p">({</span>
            <span class="s1">&#39;key&#39;</span><span class="p">:</span> <span class="s1">&#39;FFmpegVideoConvertor&#39;</span><span class="p">,</span>
            <span class="s1">&#39;preferedformat&#39;</span><span class="p">:</span> <span class="n">opts</span><span class="o">.</span><span class="n">recodevideo</span><span class="p">,</span>
        <span class="p">})</span>
    <span class="c1"># FFmpegMetadataPP should be run after FFmpegVideoConvertorPP and</span>
    <span class="c1"># FFmpegExtractAudioPP as containers before conversion may not support</span>
    <span class="c1"># metadata (3gp, webm, etc.)</span>
    <span class="c1"># And this post-processor should be placed before other metadata</span>
    <span class="c1"># manipulating post-processors (FFmpegEmbedSubtitle) to prevent loss of</span>
    <span class="c1"># extra metadata. By default ffmpeg preserves metadata applicable for both</span>
    <span class="c1"># source and target containers. From this point the container won&#39;t change,</span>
    <span class="c1"># so metadata can be added here.</span>
    <span class="k">if</span> <span class="n">opts</span><span class="o">.</span><span class="n">addmetadata</span><span class="p">:</span>
        <span class="n">postprocessors</span><span class="o">.</span><span class="n">append</span><span class="p">({</span><span class="s1">&#39;key&#39;</span><span class="p">:</span> <span class="s1">&#39;FFmpegMetadata&#39;</span><span class="p">})</span>
    <span class="k">if</span> <span class="n">opts</span><span class="o">.</span><span class="n">convertsubtitles</span><span class="p">:</span>
        <span class="n">postprocessors</span><span class="o">.</span><span class="n">append</span><span class="p">({</span>
            <span class="s1">&#39;key&#39;</span><span class="p">:</span> <span class="s1">&#39;FFmpegSubtitlesConvertor&#39;</span><span class="p">,</span>
            <span class="s1">&#39;format&#39;</span><span class="p">:</span> <span class="n">opts</span><span class="o">.</span><span class="n">convertsubtitles</span><span class="p">,</span>
        <span class="p">})</span>
    <span class="k">if</span> <span class="n">opts</span><span class="o">.</span><span class="n">embedsubtitles</span><span class="p">:</span>
        <span class="n">postprocessors</span><span class="o">.</span><span class="n">append</span><span class="p">({</span>
            <span class="s1">&#39;key&#39;</span><span class="p">:</span> <span class="s1">&#39;FFmpegEmbedSubtitle&#39;</span><span class="p">,</span>
        <span class="p">})</span>
    <span class="k">if</span> <span class="n">opts</span><span class="o">.</span><span class="n">embedthumbnail</span><span class="p">:</span>
        <span class="n">already_have_thumbnail</span> <span class="o">=</span> <span class="n">opts</span><span class="o">.</span><span class="n">writethumbnail</span> <span class="ow">or</span> <span class="n">opts</span><span class="o">.</span><span class="n">write_all_thumbnails</span>
        <span class="n">postprocessors</span><span class="o">.</span><span class="n">append</span><span class="p">({</span>
            <span class="s1">&#39;key&#39;</span><span class="p">:</span> <span class="s1">&#39;EmbedThumbnail&#39;</span><span class="p">,</span>
            <span class="s1">&#39;already_have_thumbnail&#39;</span><span class="p">:</span> <span class="n">already_have_thumbnail</span>
        <span class="p">})</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">already_have_thumbnail</span><span class="p">:</span>
            <span class="n">opts</span><span class="o">.</span><span class="n">writethumbnail</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="c1"># XAttrMetadataPP should be run after post-processors that may change file</span>
    <span class="c1"># contents</span>
    <span class="k">if</span> <span class="n">opts</span><span class="o">.</span><span class="n">xattrs</span><span class="p">:</span>
        <span class="n">postprocessors</span><span class="o">.</span><span class="n">append</span><span class="p">({</span><span class="s1">&#39;key&#39;</span><span class="p">:</span> <span class="s1">&#39;XAttrMetadata&#39;</span><span class="p">})</span>
    <span class="c1"># Please keep ExecAfterDownload towards the bottom as it allows the user to modify the final file in any way.</span>
    <span class="c1"># So if the user is able to remove the file before your postprocessor runs it might cause a few problems.</span>
    <span class="k">if</span> <span class="n">opts</span><span class="o">.</span><span class="n">exec_cmd</span><span class="p">:</span>
        <span class="n">postprocessors</span><span class="o">.</span><span class="n">append</span><span class="p">({</span>
            <span class="s1">&#39;key&#39;</span><span class="p">:</span> <span class="s1">&#39;ExecAfterDownload&#39;</span><span class="p">,</span>
            <span class="s1">&#39;exec_cmd&#39;</span><span class="p">:</span> <span class="n">opts</span><span class="o">.</span><span class="n">exec_cmd</span><span class="p">,</span>
        <span class="p">})</span>
    <span class="n">external_downloader_args</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="k">if</span> <span class="n">opts</span><span class="o">.</span><span class="n">external_downloader_args</span><span class="p">:</span>
        <span class="n">external_downloader_args</span> <span class="o">=</span> <span class="n">compat_shlex_split</span><span class="p">(</span><span class="n">opts</span><span class="o">.</span><span class="n">external_downloader_args</span><span class="p">)</span>
    <span class="n">postprocessor_args</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="k">if</span> <span class="n">opts</span><span class="o">.</span><span class="n">postprocessor_args</span><span class="p">:</span>
        <span class="n">postprocessor_args</span> <span class="o">=</span> <span class="n">compat_shlex_split</span><span class="p">(</span><span class="n">opts</span><span class="o">.</span><span class="n">postprocessor_args</span><span class="p">)</span>
    <span class="n">match_filter</span> <span class="o">=</span> <span class="p">(</span>
        <span class="kc">None</span> <span class="k">if</span> <span class="n">opts</span><span class="o">.</span><span class="n">match_filter</span> <span class="ow">is</span> <span class="kc">None</span>
        <span class="k">else</span> <span class="n">match_filter_func</span><span class="p">(</span><span class="n">opts</span><span class="o">.</span><span class="n">match_filter</span><span class="p">))</span>

    <span class="n">ydl_opts</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s1">&#39;usenetrc&#39;</span><span class="p">:</span> <span class="n">opts</span><span class="o">.</span><span class="n">usenetrc</span><span class="p">,</span>
        <span class="s1">&#39;username&#39;</span><span class="p">:</span> <span class="n">opts</span><span class="o">.</span><span class="n">username</span><span class="p">,</span>
        <span class="s1">&#39;password&#39;</span><span class="p">:</span> <span class="n">opts</span><span class="o">.</span><span class="n">password</span><span class="p">,</span>
        <span class="s1">&#39;twofactor&#39;</span><span class="p">:</span> <span class="n">opts</span><span class="o">.</span><span class="n">twofactor</span><span class="p">,</span>
        <span class="s1">&#39;videopassword&#39;</span><span class="p">:</span> <span class="n">opts</span><span class="o">.</span><span class="n">videopassword</span><span class="p">,</span>
        <span class="s1">&#39;ap_mso&#39;</span><span class="p">:</span> <span class="n">opts</span><span class="o">.</span><span class="n">ap_mso</span><span class="p">,</span>
        <span class="s1">&#39;ap_username&#39;</span><span class="p">:</span> <span class="n">opts</span><span class="o">.</span><span class="n">ap_username</span><span class="p">,</span>
        <span class="s1">&#39;ap_password&#39;</span><span class="p">:</span> <span class="n">opts</span><span class="o">.</span><span class="n">ap_password</span><span class="p">,</span>
        <span class="s1">&#39;quiet&#39;</span><span class="p">:</span> <span class="p">(</span><span class="n">opts</span><span class="o">.</span><span class="n">quiet</span> <span class="ow">or</span> <span class="n">any_getting</span> <span class="ow">or</span> <span class="n">any_printing</span><span class="p">),</span>
        <span class="s1">&#39;no_warnings&#39;</span><span class="p">:</span> <span class="n">opts</span><span class="o">.</span><span class="n">no_warnings</span><span class="p">,</span>
        <span class="s1">&#39;forceurl&#39;</span><span class="p">:</span> <span class="n">opts</span><span class="o">.</span><span class="n">geturl</span><span class="p">,</span>
        <span class="s1">&#39;forcetitle&#39;</span><span class="p">:</span> <span class="n">opts</span><span class="o">.</span><span class="n">gettitle</span><span class="p">,</span>
        <span class="s1">&#39;forceid&#39;</span><span class="p">:</span> <span class="n">opts</span><span class="o">.</span><span class="n">getid</span><span class="p">,</span>
        <span class="s1">&#39;forcethumbnail&#39;</span><span class="p">:</span> <span class="n">opts</span><span class="o">.</span><span class="n">getthumbnail</span><span class="p">,</span>
        <span class="s1">&#39;forcedescription&#39;</span><span class="p">:</span> <span class="n">opts</span><span class="o">.</span><span class="n">getdescription</span><span class="p">,</span>
        <span class="s1">&#39;forceduration&#39;</span><span class="p">:</span> <span class="n">opts</span><span class="o">.</span><span class="n">getduration</span><span class="p">,</span>
        <span class="s1">&#39;forcefilename&#39;</span><span class="p">:</span> <span class="n">opts</span><span class="o">.</span><span class="n">getfilename</span><span class="p">,</span>
        <span class="s1">&#39;forceformat&#39;</span><span class="p">:</span> <span class="n">opts</span><span class="o">.</span><span class="n">getformat</span><span class="p">,</span>
        <span class="s1">&#39;forcejson&#39;</span><span class="p">:</span> <span class="n">opts</span><span class="o">.</span><span class="n">dumpjson</span> <span class="ow">or</span> <span class="n">opts</span><span class="o">.</span><span class="n">print_json</span><span class="p">,</span>
        <span class="s1">&#39;dump_single_json&#39;</span><span class="p">:</span> <span class="n">opts</span><span class="o">.</span><span class="n">dump_single_json</span><span class="p">,</span>
        <span class="s1">&#39;simulate&#39;</span><span class="p">:</span> <span class="n">opts</span><span class="o">.</span><span class="n">simulate</span> <span class="ow">or</span> <span class="n">any_getting</span><span class="p">,</span>
        <span class="s1">&#39;skip_download&#39;</span><span class="p">:</span> <span class="n">opts</span><span class="o">.</span><span class="n">skip_download</span><span class="p">,</span>
        <span class="s1">&#39;format&#39;</span><span class="p">:</span> <span class="n">opts</span><span class="o">.</span><span class="n">format</span><span class="p">,</span>
        <span class="s1">&#39;listformats&#39;</span><span class="p">:</span> <span class="n">opts</span><span class="o">.</span><span class="n">listformats</span><span class="p">,</span>
        <span class="s1">&#39;outtmpl&#39;</span><span class="p">:</span> <span class="n">outtmpl</span><span class="p">,</span>
        <span class="s1">&#39;autonumber_size&#39;</span><span class="p">:</span> <span class="n">opts</span><span class="o">.</span><span class="n">autonumber_size</span><span class="p">,</span>
        <span class="s1">&#39;autonumber_start&#39;</span><span class="p">:</span> <span class="n">opts</span><span class="o">.</span><span class="n">autonumber_start</span><span class="p">,</span>
        <span class="s1">&#39;restrictfilenames&#39;</span><span class="p">:</span> <span class="n">opts</span><span class="o">.</span><span class="n">restrictfilenames</span><span class="p">,</span>
        <span class="s1">&#39;ignoreerrors&#39;</span><span class="p">:</span> <span class="n">opts</span><span class="o">.</span><span class="n">ignoreerrors</span><span class="p">,</span>
        <span class="s1">&#39;force_generic_extractor&#39;</span><span class="p">:</span> <span class="n">opts</span><span class="o">.</span><span class="n">force_generic_extractor</span><span class="p">,</span>
        <span class="s1">&#39;ratelimit&#39;</span><span class="p">:</span> <span class="n">opts</span><span class="o">.</span><span class="n">ratelimit</span><span class="p">,</span>
        <span class="s1">&#39;nooverwrites&#39;</span><span class="p">:</span> <span class="n">opts</span><span class="o">.</span><span class="n">nooverwrites</span><span class="p">,</span>
        <span class="s1">&#39;retries&#39;</span><span class="p">:</span> <span class="n">opts</span><span class="o">.</span><span class="n">retries</span><span class="p">,</span>
        <span class="s1">&#39;fragment_retries&#39;</span><span class="p">:</span> <span class="n">opts</span><span class="o">.</span><span class="n">fragment_retries</span><span class="p">,</span>
        <span class="s1">&#39;skip_unavailable_fragments&#39;</span><span class="p">:</span> <span class="n">opts</span><span class="o">.</span><span class="n">skip_unavailable_fragments</span><span class="p">,</span>
        <span class="s1">&#39;keep_fragments&#39;</span><span class="p">:</span> <span class="n">opts</span><span class="o">.</span><span class="n">keep_fragments</span><span class="p">,</span>
        <span class="s1">&#39;buffersize&#39;</span><span class="p">:</span> <span class="n">opts</span><span class="o">.</span><span class="n">buffersize</span><span class="p">,</span>
        <span class="s1">&#39;noresizebuffer&#39;</span><span class="p">:</span> <span class="n">opts</span><span class="o">.</span><span class="n">noresizebuffer</span><span class="p">,</span>
        <span class="s1">&#39;http_chunk_size&#39;</span><span class="p">:</span> <span class="n">opts</span><span class="o">.</span><span class="n">http_chunk_size</span><span class="p">,</span>
        <span class="s1">&#39;continuedl&#39;</span><span class="p">:</span> <span class="n">opts</span><span class="o">.</span><span class="n">continue_dl</span><span class="p">,</span>
        <span class="s1">&#39;noprogress&#39;</span><span class="p">:</span> <span class="n">opts</span><span class="o">.</span><span class="n">noprogress</span><span class="p">,</span>
        <span class="s1">&#39;progress_with_newline&#39;</span><span class="p">:</span> <span class="n">opts</span><span class="o">.</span><span class="n">progress_with_newline</span><span class="p">,</span>
        <span class="s1">&#39;playliststart&#39;</span><span class="p">:</span> <span class="n">opts</span><span class="o">.</span><span class="n">playliststart</span><span class="p">,</span>
        <span class="s1">&#39;playlistend&#39;</span><span class="p">:</span> <span class="n">opts</span><span class="o">.</span><span class="n">playlistend</span><span class="p">,</span>
        <span class="s1">&#39;playlistreverse&#39;</span><span class="p">:</span> <span class="n">opts</span><span class="o">.</span><span class="n">playlist_reverse</span><span class="p">,</span>
        <span class="s1">&#39;playlistrandom&#39;</span><span class="p">:</span> <span class="n">opts</span><span class="o">.</span><span class="n">playlist_random</span><span class="p">,</span>
        <span class="s1">&#39;noplaylist&#39;</span><span class="p">:</span> <span class="n">opts</span><span class="o">.</span><span class="n">noplaylist</span><span class="p">,</span>
        <span class="s1">&#39;logtostderr&#39;</span><span class="p">:</span> <span class="n">opts</span><span class="o">.</span><span class="n">outtmpl</span> <span class="o">==</span> <span class="s1">&#39;-&#39;</span><span class="p">,</span>
        <span class="s1">&#39;consoletitle&#39;</span><span class="p">:</span> <span class="n">opts</span><span class="o">.</span><span class="n">consoletitle</span><span class="p">,</span>
        <span class="s1">&#39;nopart&#39;</span><span class="p">:</span> <span class="n">opts</span><span class="o">.</span><span class="n">nopart</span><span class="p">,</span>
        <span class="s1">&#39;updatetime&#39;</span><span class="p">:</span> <span class="n">opts</span><span class="o">.</span><span class="n">updatetime</span><span class="p">,</span>
        <span class="s1">&#39;writedescription&#39;</span><span class="p">:</span> <span class="n">opts</span><span class="o">.</span><span class="n">writedescription</span><span class="p">,</span>
        <span class="s1">&#39;writeannotations&#39;</span><span class="p">:</span> <span class="n">opts</span><span class="o">.</span><span class="n">writeannotations</span><span class="p">,</span>
        <span class="s1">&#39;writeinfojson&#39;</span><span class="p">:</span> <span class="n">opts</span><span class="o">.</span><span class="n">writeinfojson</span><span class="p">,</span>
        <span class="s1">&#39;writethumbnail&#39;</span><span class="p">:</span> <span class="n">opts</span><span class="o">.</span><span class="n">writethumbnail</span><span class="p">,</span>
        <span class="s1">&#39;write_all_thumbnails&#39;</span><span class="p">:</span> <span class="n">opts</span><span class="o">.</span><span class="n">write_all_thumbnails</span><span class="p">,</span>
        <span class="s1">&#39;writesubtitles&#39;</span><span class="p">:</span> <span class="n">opts</span><span class="o">.</span><span class="n">writesubtitles</span><span class="p">,</span>
        <span class="s1">&#39;writeautomaticsub&#39;</span><span class="p">:</span> <span class="n">opts</span><span class="o">.</span><span class="n">writeautomaticsub</span><span class="p">,</span>
        <span class="s1">&#39;allsubtitles&#39;</span><span class="p">:</span> <span class="n">opts</span><span class="o">.</span><span class="n">allsubtitles</span><span class="p">,</span>
        <span class="s1">&#39;listsubtitles&#39;</span><span class="p">:</span> <span class="n">opts</span><span class="o">.</span><span class="n">listsubtitles</span><span class="p">,</span>
        <span class="s1">&#39;subtitlesformat&#39;</span><span class="p">:</span> <span class="n">opts</span><span class="o">.</span><span class="n">subtitlesformat</span><span class="p">,</span>
        <span class="s1">&#39;subtitleslangs&#39;</span><span class="p">:</span> <span class="n">opts</span><span class="o">.</span><span class="n">subtitleslangs</span><span class="p">,</span>
        <span class="s1">&#39;matchtitle&#39;</span><span class="p">:</span> <span class="n">decodeOption</span><span class="p">(</span><span class="n">opts</span><span class="o">.</span><span class="n">matchtitle</span><span class="p">),</span>
        <span class="s1">&#39;rejecttitle&#39;</span><span class="p">:</span> <span class="n">decodeOption</span><span class="p">(</span><span class="n">opts</span><span class="o">.</span><span class="n">rejecttitle</span><span class="p">),</span>
        <span class="s1">&#39;max_downloads&#39;</span><span class="p">:</span> <span class="n">opts</span><span class="o">.</span><span class="n">max_downloads</span><span class="p">,</span>
        <span class="s1">&#39;prefer_free_formats&#39;</span><span class="p">:</span> <span class="n">opts</span><span class="o">.</span><span class="n">prefer_free_formats</span><span class="p">,</span>
        <span class="s1">&#39;verbose&#39;</span><span class="p">:</span> <span class="n">opts</span><span class="o">.</span><span class="n">verbose</span><span class="p">,</span>
        <span class="s1">&#39;dump_intermediate_pages&#39;</span><span class="p">:</span> <span class="n">opts</span><span class="o">.</span><span class="n">dump_intermediate_pages</span><span class="p">,</span>
        <span class="s1">&#39;write_pages&#39;</span><span class="p">:</span> <span class="n">opts</span><span class="o">.</span><span class="n">write_pages</span><span class="p">,</span>
        <span class="s1">&#39;test&#39;</span><span class="p">:</span> <span class="n">opts</span><span class="o">.</span><span class="n">test</span><span class="p">,</span>
        <span class="s1">&#39;keepvideo&#39;</span><span class="p">:</span> <span class="n">opts</span><span class="o">.</span><span class="n">keepvideo</span><span class="p">,</span>
        <span class="s1">&#39;min_filesize&#39;</span><span class="p">:</span> <span class="n">opts</span><span class="o">.</span><span class="n">min_filesize</span><span class="p">,</span>
        <span class="s1">&#39;max_filesize&#39;</span><span class="p">:</span> <span class="n">opts</span><span class="o">.</span><span class="n">max_filesize</span><span class="p">,</span>
        <span class="s1">&#39;min_views&#39;</span><span class="p">:</span> <span class="n">opts</span><span class="o">.</span><span class="n">min_views</span><span class="p">,</span>
        <span class="s1">&#39;max_views&#39;</span><span class="p">:</span> <span class="n">opts</span><span class="o">.</span><span class="n">max_views</span><span class="p">,</span>
        <span class="s1">&#39;daterange&#39;</span><span class="p">:</span> <span class="n">date</span><span class="p">,</span>
        <span class="s1">&#39;cachedir&#39;</span><span class="p">:</span> <span class="n">opts</span><span class="o">.</span><span class="n">cachedir</span><span class="p">,</span>
        <span class="s1">&#39;youtube_print_sig_code&#39;</span><span class="p">:</span> <span class="n">opts</span><span class="o">.</span><span class="n">youtube_print_sig_code</span><span class="p">,</span>
        <span class="s1">&#39;age_limit&#39;</span><span class="p">:</span> <span class="n">opts</span><span class="o">.</span><span class="n">age_limit</span><span class="p">,</span>
        <span class="s1">&#39;download_archive&#39;</span><span class="p">:</span> <span class="n">download_archive_fn</span><span class="p">,</span>
        <span class="s1">&#39;cookiefile&#39;</span><span class="p">:</span> <span class="n">opts</span><span class="o">.</span><span class="n">cookiefile</span><span class="p">,</span>
        <span class="s1">&#39;nocheckcertificate&#39;</span><span class="p">:</span> <span class="n">opts</span><span class="o">.</span><span class="n">no_check_certificate</span><span class="p">,</span>
        <span class="s1">&#39;prefer_insecure&#39;</span><span class="p">:</span> <span class="n">opts</span><span class="o">.</span><span class="n">prefer_insecure</span><span class="p">,</span>
        <span class="s1">&#39;proxy&#39;</span><span class="p">:</span> <span class="n">opts</span><span class="o">.</span><span class="n">proxy</span><span class="p">,</span>
        <span class="s1">&#39;socket_timeout&#39;</span><span class="p">:</span> <span class="n">opts</span><span class="o">.</span><span class="n">socket_timeout</span><span class="p">,</span>
        <span class="s1">&#39;bidi_workaround&#39;</span><span class="p">:</span> <span class="n">opts</span><span class="o">.</span><span class="n">bidi_workaround</span><span class="p">,</span>
        <span class="s1">&#39;debug_printtraffic&#39;</span><span class="p">:</span> <span class="n">opts</span><span class="o">.</span><span class="n">debug_printtraffic</span><span class="p">,</span>
        <span class="s1">&#39;prefer_ffmpeg&#39;</span><span class="p">:</span> <span class="n">opts</span><span class="o">.</span><span class="n">prefer_ffmpeg</span><span class="p">,</span>
        <span class="s1">&#39;include_ads&#39;</span><span class="p">:</span> <span class="n">opts</span><span class="o">.</span><span class="n">include_ads</span><span class="p">,</span>
        <span class="s1">&#39;default_search&#39;</span><span class="p">:</span> <span class="n">opts</span><span class="o">.</span><span class="n">default_search</span><span class="p">,</span>
        <span class="s1">&#39;youtube_include_dash_manifest&#39;</span><span class="p">:</span> <span class="n">opts</span><span class="o">.</span><span class="n">youtube_include_dash_manifest</span><span class="p">,</span>
        <span class="s1">&#39;encoding&#39;</span><span class="p">:</span> <span class="n">opts</span><span class="o">.</span><span class="n">encoding</span><span class="p">,</span>
        <span class="s1">&#39;extract_flat&#39;</span><span class="p">:</span> <span class="n">opts</span><span class="o">.</span><span class="n">extract_flat</span><span class="p">,</span>
        <span class="s1">&#39;mark_watched&#39;</span><span class="p">:</span> <span class="n">opts</span><span class="o">.</span><span class="n">mark_watched</span><span class="p">,</span>
        <span class="s1">&#39;merge_output_format&#39;</span><span class="p">:</span> <span class="n">opts</span><span class="o">.</span><span class="n">merge_output_format</span><span class="p">,</span>
        <span class="s1">&#39;postprocessors&#39;</span><span class="p">:</span> <span class="n">postprocessors</span><span class="p">,</span>
        <span class="s1">&#39;fixup&#39;</span><span class="p">:</span> <span class="n">opts</span><span class="o">.</span><span class="n">fixup</span><span class="p">,</span>
        <span class="s1">&#39;source_address&#39;</span><span class="p">:</span> <span class="n">opts</span><span class="o">.</span><span class="n">source_address</span><span class="p">,</span>
        <span class="s1">&#39;call_home&#39;</span><span class="p">:</span> <span class="n">opts</span><span class="o">.</span><span class="n">call_home</span><span class="p">,</span>
        <span class="s1">&#39;sleep_interval&#39;</span><span class="p">:</span> <span class="n">opts</span><span class="o">.</span><span class="n">sleep_interval</span><span class="p">,</span>
        <span class="s1">&#39;max_sleep_interval&#39;</span><span class="p">:</span> <span class="n">opts</span><span class="o">.</span><span class="n">max_sleep_interval</span><span class="p">,</span>
        <span class="s1">&#39;external_downloader&#39;</span><span class="p">:</span> <span class="n">opts</span><span class="o">.</span><span class="n">external_downloader</span><span class="p">,</span>
        <span class="s1">&#39;list_thumbnails&#39;</span><span class="p">:</span> <span class="n">opts</span><span class="o">.</span><span class="n">list_thumbnails</span><span class="p">,</span>
        <span class="s1">&#39;playlist_items&#39;</span><span class="p">:</span> <span class="n">opts</span><span class="o">.</span><span class="n">playlist_items</span><span class="p">,</span>
        <span class="s1">&#39;xattr_set_filesize&#39;</span><span class="p">:</span> <span class="n">opts</span><span class="o">.</span><span class="n">xattr_set_filesize</span><span class="p">,</span>
        <span class="s1">&#39;match_filter&#39;</span><span class="p">:</span> <span class="n">match_filter</span><span class="p">,</span>
        <span class="s1">&#39;no_color&#39;</span><span class="p">:</span> <span class="n">opts</span><span class="o">.</span><span class="n">no_color</span><span class="p">,</span>
        <span class="s1">&#39;ffmpeg_location&#39;</span><span class="p">:</span> <span class="n">opts</span><span class="o">.</span><span class="n">ffmpeg_location</span><span class="p">,</span>
        <span class="s1">&#39;hls_prefer_native&#39;</span><span class="p">:</span> <span class="n">opts</span><span class="o">.</span><span class="n">hls_prefer_native</span><span class="p">,</span>
        <span class="s1">&#39;hls_use_mpegts&#39;</span><span class="p">:</span> <span class="n">opts</span><span class="o">.</span><span class="n">hls_use_mpegts</span><span class="p">,</span>
        <span class="s1">&#39;external_downloader_args&#39;</span><span class="p">:</span> <span class="n">external_downloader_args</span><span class="p">,</span>
        <span class="s1">&#39;postprocessor_args&#39;</span><span class="p">:</span> <span class="n">postprocessor_args</span><span class="p">,</span>
        <span class="s1">&#39;cn_verification_proxy&#39;</span><span class="p">:</span> <span class="n">opts</span><span class="o">.</span><span class="n">cn_verification_proxy</span><span class="p">,</span>
        <span class="s1">&#39;geo_verification_proxy&#39;</span><span class="p">:</span> <span class="n">opts</span><span class="o">.</span><span class="n">geo_verification_proxy</span><span class="p">,</span>
        <span class="s1">&#39;config_location&#39;</span><span class="p">:</span> <span class="n">opts</span><span class="o">.</span><span class="n">config_location</span><span class="p">,</span>
        <span class="s1">&#39;geo_bypass&#39;</span><span class="p">:</span> <span class="n">opts</span><span class="o">.</span><span class="n">geo_bypass</span><span class="p">,</span>
        <span class="s1">&#39;geo_bypass_country&#39;</span><span class="p">:</span> <span class="n">opts</span><span class="o">.</span><span class="n">geo_bypass_country</span><span class="p">,</span>
        <span class="s1">&#39;geo_bypass_ip_block&#39;</span><span class="p">:</span> <span class="n">opts</span><span class="o">.</span><span class="n">geo_bypass_ip_block</span><span class="p">,</span>
        <span class="c1"># just for deprecation check</span>
        <span class="s1">&#39;autonumber&#39;</span><span class="p">:</span> <span class="n">opts</span><span class="o">.</span><span class="n">autonumber</span> <span class="k">if</span> <span class="n">opts</span><span class="o">.</span><span class="n">autonumber</span> <span class="ow">is</span> <span class="kc">True</span> <span class="k">else</span> <span class="kc">None</span><span class="p">,</span>
        <span class="s1">&#39;usetitle&#39;</span><span class="p">:</span> <span class="n">opts</span><span class="o">.</span><span class="n">usetitle</span> <span class="k">if</span> <span class="n">opts</span><span class="o">.</span><span class="n">usetitle</span> <span class="ow">is</span> <span class="kc">True</span> <span class="k">else</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">}</span>

    <span class="k">with</span> <span class="n">YoutubeDL</span><span class="p">(</span><span class="n">ydl_opts</span><span class="p">)</span> <span class="k">as</span> <span class="n">ydl</span><span class="p">:</span>
        <span class="c1"># Update version</span>
        <span class="k">if</span> <span class="n">opts</span><span class="o">.</span><span class="n">update_self</span><span class="p">:</span>
            <span class="n">update_self</span><span class="p">(</span><span class="n">ydl</span><span class="o">.</span><span class="n">to_screen</span><span class="p">,</span> <span class="n">opts</span><span class="o">.</span><span class="n">verbose</span><span class="p">,</span> <span class="n">ydl</span><span class="o">.</span><span class="n">_opener</span><span class="p">)</span>

        <span class="c1"># Remove cache dir</span>
        <span class="k">if</span> <span class="n">opts</span><span class="o">.</span><span class="n">rm_cachedir</span><span class="p">:</span>
            <span class="n">ydl</span><span class="o">.</span><span class="n">cache</span><span class="o">.</span><span class="n">remove</span><span class="p">()</span>

        <span class="c1"># Maybe do nothing</span>
        <span class="k">if</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">all_urls</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mi">1</span><span class="p">)</span> <span class="ow">and</span> <span class="p">(</span><span class="n">opts</span><span class="o">.</span><span class="n">load_info_filename</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">opts</span><span class="o">.</span><span class="n">update_self</span> <span class="ow">or</span> <span class="n">opts</span><span class="o">.</span><span class="n">rm_cachedir</span><span class="p">:</span>
                <span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">()</span>

            <span class="n">ydl</span><span class="o">.</span><span class="n">warn_if_short_id</span><span class="p">(</span><span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">[</span><span class="mi">1</span><span class="p">:]</span> <span class="k">if</span> <span class="n">argv</span> <span class="ow">is</span> <span class="kc">None</span> <span class="k">else</span> <span class="n">argv</span><span class="p">)</span>
            <span class="n">parser</span><span class="o">.</span><span class="n">error</span><span class="p">(</span>
                <span class="s1">&#39;You must provide at least one URL.</span><span class="se">\n</span><span class="s1">&#39;</span>
                <span class="s1">&#39;Type youtube-dl --help to see a list of all options.&#39;</span><span class="p">)</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">opts</span><span class="o">.</span><span class="n">load_info_filename</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">retcode</span> <span class="o">=</span> <span class="n">ydl</span><span class="o">.</span><span class="n">download_with_info_file</span><span class="p">(</span><span class="n">expand_path</span><span class="p">(</span><span class="n">opts</span><span class="o">.</span><span class="n">load_info_filename</span><span class="p">))</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">retcode</span> <span class="o">=</span> <span class="n">ydl</span><span class="o">.</span><span class="n">download</span><span class="p">(</span><span class="n">all_urls</span><span class="p">)</span>
        <span class="k">except</span> <span class="n">MaxDownloadsReached</span><span class="p">:</span>
            <span class="n">ydl</span><span class="o">.</span><span class="n">to_screen</span><span class="p">(</span><span class="s1">&#39;--max-download limit reached, aborting.&#39;</span><span class="p">)</span>
            <span class="n">retcode</span> <span class="o">=</span> <span class="mi">101</span>

    <span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">(</span><span class="n">retcode</span><span class="p">)</span>


<span class="k">def</span> <span class="nf">main</span><span class="p">(</span><span class="n">argv</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">_real_main</span><span class="p">(</span><span class="n">argv</span><span class="p">)</span>
    <span class="k">except</span> <span class="n">DownloadError</span><span class="p">:</span>
        <span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
    <span class="k">except</span> <span class="n">SameFileError</span><span class="p">:</span>
        <span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">(</span><span class="s1">&#39;ERROR: fixed output name but more than one file to download&#39;</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">KeyboardInterrupt</span><span class="p">:</span>
        <span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">ERROR: Interrupted by user&#39;</span><span class="p">)</span>


<span class="n">__all__</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;main&#39;</span><span class="p">,</span> <span class="s1">&#39;YoutubeDL&#39;</span><span class="p">,</span> <span class="s1">&#39;gen_extractors&#39;</span><span class="p">,</span> <span class="s1">&#39;list_extractors&#39;</span><span class="p">]</span>
</pre></div>
</div>
<dl class="class">
<dt id="pyutil.ytdl.TermuxDL">
<em class="property">class </em><code class="descclassname">pyutil.ytdl.</code><code class="descname">TermuxDL</code><a class="reference internal" href="_modules/pyutil/ytdl.html#TermuxDL"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyutil.ytdl.TermuxDL" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">youtube_dl.YoutubeDL.YoutubeDL</span></code></p>
<p>Try subclassing youtube_dl and see if that makes it easier.</p>
<p>Also heres all the source code in case you think you need it.</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">_NUMERIC_FIELDS</span> <span class="o">=</span> <span class="nb">set</span><span class="p">((</span>
    <span class="s1">&#39;width&#39;</span><span class="p">,</span> <span class="s1">&#39;height&#39;</span><span class="p">,</span> <span class="s1">&#39;tbr&#39;</span><span class="p">,</span> <span class="s1">&#39;abr&#39;</span><span class="p">,</span> <span class="s1">&#39;asr&#39;</span><span class="p">,</span> <span class="s1">&#39;vbr&#39;</span><span class="p">,</span> <span class="s1">&#39;fps&#39;</span><span class="p">,</span> <span class="s1">&#39;filesize&#39;</span><span class="p">,</span> <span class="s1">&#39;filesize_approx&#39;</span><span class="p">,</span>
    <span class="s1">&#39;timestamp&#39;</span><span class="p">,</span> <span class="s1">&#39;upload_year&#39;</span><span class="p">,</span> <span class="s1">&#39;upload_month&#39;</span><span class="p">,</span> <span class="s1">&#39;upload_day&#39;</span><span class="p">,</span>
    <span class="s1">&#39;duration&#39;</span><span class="p">,</span> <span class="s1">&#39;view_count&#39;</span><span class="p">,</span> <span class="s1">&#39;like_count&#39;</span><span class="p">,</span> <span class="s1">&#39;dislike_count&#39;</span><span class="p">,</span> <span class="s1">&#39;repost_count&#39;</span><span class="p">,</span>
    <span class="s1">&#39;average_rating&#39;</span><span class="p">,</span> <span class="s1">&#39;comment_count&#39;</span><span class="p">,</span> <span class="s1">&#39;age_limit&#39;</span><span class="p">,</span>
    <span class="s1">&#39;start_time&#39;</span><span class="p">,</span> <span class="s1">&#39;end_time&#39;</span><span class="p">,</span>
    <span class="s1">&#39;chapter_number&#39;</span><span class="p">,</span> <span class="s1">&#39;season_number&#39;</span><span class="p">,</span> <span class="s1">&#39;episode_number&#39;</span><span class="p">,</span>
    <span class="s1">&#39;track_number&#39;</span><span class="p">,</span> <span class="s1">&#39;disc_number&#39;</span><span class="p">,</span> <span class="s1">&#39;release_year&#39;</span><span class="p">,</span>
    <span class="s1">&#39;playlist_index&#39;</span><span class="p">,</span>
<span class="p">))</span>

<span class="n">params</span> <span class="o">=</span> <span class="kc">None</span>
<span class="n">_ies</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">_pps</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">_download_retcode</span> <span class="o">=</span> <span class="kc">None</span>
<span class="n">_num_downloads</span> <span class="o">=</span> <span class="kc">None</span>
<span class="n">_screen_file</span> <span class="o">=</span> <span class="kc">None</span>

<span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">auto_init</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
    \<span class="s2">&quot;</span><span class="se">\&quot;\&quot;</span><span class="s2">Create a FileDownloader object with the given options.</span><span class="se">\&quot;\&quot;\&quot;</span>
    <span class="k">if</span> <span class="n">params</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">params</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_ies</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_ies_instances</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_pps</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_progress_hooks</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_download_retcode</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_num_downloads</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_screen_file</span> <span class="o">=</span> <span class="p">[</span><span class="n">sys</span><span class="o">.</span><span class="n">stdout</span><span class="p">,</span> <span class="n">sys</span><span class="o">.</span><span class="n">stderr</span><span class="p">][</span><span class="n">params</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;logtostderr&#39;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)]</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_err_file</span> <span class="o">=</span> <span class="n">sys</span><span class="o">.</span><span class="n">stderr</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">params</span> <span class="o">=</span> <span class="p">{</span>
        <span class="c1"># Default parameters</span>
        <span class="s1">&#39;nocheckcertificate&#39;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
    <span class="p">}</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">params</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">params</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">cache</span> <span class="o">=</span> <span class="n">Cache</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</pre></div>
</div>
<p>So there it is!</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Attributes:</th><td class="field-body"><dl class="first last docutils">
<dt><strong>params</strong></dt>
<dd></dd>
</dl>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Methods</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">add_default_info_extractors</span></code>()</td>
<td>Add the InfoExtractors returned by gen_extractors to the end of the list</td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">add_extra_info</span></code>(info_dict,&nbsp;extra_info)</td>
<td>Set the keys from extra_info in info dict if they are missing</td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">add_info_extractor</span></code>(ie)</td>
<td>Add an InfoExtractor object to the end of the list.</td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">add_post_processor</span></code>(pp)</td>
<td>Add a PostProcessor object to the end of the chain.</td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">add_progress_hook</span></code>(ph)</td>
<td>Add the progress hook (currently only for the file downloader)</td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">download</span></code>(url_list)</td>
<td>Download a given list of URLs.</td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">extract_info</span></code>(url[,&nbsp;download,&nbsp;ie_key,&nbsp;…])</td>
<td>Returns a list with a dictionary for each video we find.</td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_info_extractor</span></code>(ie_key)</td>
<td>Get an instance of an IE with name ie_key, it will try to get one from the _ies list, if there’s no instance it will create a new one and add it to the extractor list.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#pyutil.ytdl.TermuxDL.parseOpts" title="pyutil.ytdl.TermuxDL.parseOpts"><code class="xref py py-obj docutils literal notranslate"><span class="pre">parseOpts</span></code></a>()</td>
<td>Returns a dict of user-provided args.</td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">post_process</span></code>(filename,&nbsp;ie_info)</td>
<td>Run all the postprocessors on the given file.</td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">prepare_filename</span></code>(info_dict)</td>
<td>Generate the output filename.</td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">process_ie_result</span></code>(ie_result[,&nbsp;download,&nbsp;…])</td>
<td>Take the result of the ie(may be modified) and resolve all unresolved references (URLs, playlist items).</td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">process_info</span></code>(info_dict)</td>
<td>Process a single resolved IE result.</td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">process_subtitles</span></code>(video_id,&nbsp;…)</td>
<td>Select the requested subtitles and their format</td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">report_error</span></code>(message[,&nbsp;tb])</td>
<td>Do the same as trouble, but prefixes the message with ‘ERROR:’, colored in red if stderr is a tty file.</td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">report_file_already_downloaded</span></code>(file_name)</td>
<td>Report file has already been fully downloaded.</td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">report_warning</span></code>(message)</td>
<td>Print the message to stderr, it will be prefixed with ‘WARNING:’ If stderr is a tty file the ‘WARNING:’ will be colored</td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">to_screen</span></code>(message[,&nbsp;skip_eol])</td>
<td>Print message to stdout if not in quiet mode.</td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">to_stderr</span></code>(message)</td>
<td>Print message to stderr.</td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">to_stdout</span></code>(message[,&nbsp;skip_eol,&nbsp;check_quiet])</td>
<td>Print message to stdout if not in quiet mode.</td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">trouble</span></code>([message,&nbsp;tb])</td>
<td>Determine action to take when a download problem appears.</td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">urlopen</span></code>(req)</td>
<td>Start an HTTP download</td>
</tr>
</tbody>
</table>
<table border="1" class="docutils">
<colgroup>
<col width="73%" />
<col width="27%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><strong>add_default_extra_info</strong></td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td><strong>build_format_selector</strong></td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td><strong>download_with_info_file</strong></td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td><strong>encode</strong></td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td><strong>filter_requested_info</strong></td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td><strong>format_resolution</strong></td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td><strong>get_encoding</strong></td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td><strong>in_download_archive</strong></td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td><strong>list_formats</strong></td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td><strong>list_subtitles</strong></td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td><strong>list_thumbnails</strong></td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td><strong>print_debug_header</strong></td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td><strong>process_video_result</strong></td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td><strong>record_download_archive</strong></td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td><strong>restore_console_title</strong></td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td><strong>save_console_title</strong></td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td><strong>to_console_title</strong></td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td><strong>warn_if_short_id</strong></td>
<td>&#160;</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="pyutil.ytdl.TermuxDL.parseOpts">
<code class="descname">parseOpts</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyutil/ytdl.html#TermuxDL.parseOpts"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyutil.ytdl.TermuxDL.parseOpts" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a dict of user-provided args.</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="pyutil.ytdl.main">
<code class="descclassname">pyutil.ytdl.</code><code class="descname">main</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyutil/ytdl.html#main"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyutil.ytdl.main" title="Permalink to this definition">¶</a></dt>
<dd><p>Execute the program.</p>
</dd></dl>

<dl class="function">
<dt id="pyutil.ytdl.my_hook">
<code class="descclassname">pyutil.ytdl.</code><code class="descname">my_hook</code><span class="sig-paren">(</span><em>d</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyutil/ytdl.html#my_hook"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyutil.ytdl.my_hook" title="Permalink to this definition">¶</a></dt>
<dd><p>Hook to notify the user the download is completed.</p>
</dd></dl>

<dl class="function">
<dt id="pyutil.ytdl.requests_dl">
<code class="descclassname">pyutil.ytdl.</code><code class="descname">requests_dl</code><span class="sig-paren">(</span><em>link</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyutil/ytdl.html#requests_dl"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyutil.ytdl.requests_dl" title="Permalink to this definition">¶</a></dt>
<dd><p>TODO: Docstring for requests_dl.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>link</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – Download a URL using <code class="xref py py-mod docutils literal notranslate"><span class="pre">requests</span></code>.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"></td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">TODO</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="pyutil.ytdl.ytdl">
<code class="descclassname">pyutil.ytdl.</code><code class="descname">ytdl</code><span class="sig-paren">(</span><em>link</em>, <em>ytdl_opts</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyutil/ytdl.html#ytdl"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyutil.ytdl.ytdl" title="Permalink to this definition">¶</a></dt>
<dd><p>Execute downloading a YouTube video.</p>
<p>Possibly makes sense to make this a class. Playlists are a subclass,
objects with variable sizes are others etc.</p>
<div class="admonition-todo admonition" id="index-19">
<p class="first admonition-title">Todo</p>
<p class="last">Should merge the built-in options I have here with user provided ones.</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>link</strong> – URL to a YouTube video</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">Request object or <code class="xref py py-class docutils literal notranslate"><span class="pre">urllib.Response</span></code> if <code class="xref py py-mod docutils literal notranslate"><span class="pre">requests</span></code> isn’t downloaded.</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
</div>
</div>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">pyutil</a></h1>






<p>
<iframe src="https://ghbtns.com/github-btn.html?user=Faris A. Chugthai&repo=utilities&type=watch&count=true&size=large&v=2"
  allowtransparency="true" frameborder="0" scrolling="0" width="200px" height="35px"></iframe>
</p>





<h3>Navigation</h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="tutorial.html">Tutorial.rst</a></li>
<li class="toctree-l1"><a class="reference internal" href="numpydoc.html"><code class="docutils literal notranslate"><span class="pre">numpydoc</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="numerical.html">numerical</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#"><code class="docutils literal notranslate"><span class="pre">API</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="todo.html">todo</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="numerical.html" title="previous chapter">numerical</a></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/api.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2018, Faris A Chugthai.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.8.5</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="_sources/api.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>